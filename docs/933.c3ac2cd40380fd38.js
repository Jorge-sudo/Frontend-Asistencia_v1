"use strict";(self.webpackChunkFrontend_Asistencia=self.webpackChunkFrontend_Asistencia||[]).push([[933],{3605:(oe,L,i)=>{i.r(L),i.d(L,{RegisterAsistenciaModule:()=>O});var R=i(6814),J=i(8075),a=i(6223),n=i(5219),S=i(9397),M=i(6306),C=i(4716),e=i(5879),r=i(7203),o=i(7960),ae=i(2121),$=i(7161),t=i(4104),z=i(354),X=i(2160),U=i(707);const j=["selectAula"];function k(Z,_){1&Z&&e._UZ(0,"p-message",19)}function ee(Z,_){1&Z&&e._UZ(0,"p-message",20)}function te(Z,_){1&Z&&e._UZ(0,"p-message",21)}const ie=function(){return{margin:"10px"}};let b=(()=>{class Z{constructor(s,Q,m,p){this.messageService=s,this.asistenciaService=Q,this.aulaService=m,this.transformRegisterAssignMateriaService=p,this.optionsAula=[],this.loading=!1,this.data=new a.cw({})}ngOnInit(){this.initForm(),this.initAulas()}initAulas(){this.aulaService.getAulas().pipe((0,S.b)(s=>{this.optionsAula=this.transformRegisterAssignMateriaService.aulaToOptionsAula(s.data)}),(0,M.K)(s=>{throw this.messageService.add({severity:"error",summary:"Error",detail:"No se pudo obtener las aulas"}),s})).subscribe()}initForm(){this.data=new a.cw({ci:new a.NI(0,[a.kI.required,a.kI.min(99999),a.kI.max(999999999)]),idAula:new a.NI(0,[a.kI.required,a.kI.min(1)]),cantidadEstudiantes:new a.NI(0,[a.kI.required,a.kI.min(1)])})}eventSelectAula(s){this.data.get("idAula")?.setValue(s.value.code)}onSubmit(){this.loading=!0,this.asistenciaService.saveAsistencia(this.data.value).pipe((0,S.b)(s=>{console.log(s),this.messageService.add({severity:"success",summary:"Exito",detail:`Se registro la asistencia:\n                   Hora: ${s.data.horaEntrada},\n                   Fecha: ${s.data.fecha},\n                   Estado: ${s.data.estado},\n                   Cantidad de estudiantes: ${s.data.cantidadEstudiantes},`}),this.clearForm()}),(0,M.K)(s=>{throw this.messageService.add({severity:"error",summary:"Error",detail:"No se pudo registrar la asistencia"}),s}),(0,C.x)(()=>this.loading=!1)).subscribe()}clearForm(){this.data.reset(),this.elementSelectAula.writeValue(null)}static#e=this.\u0275fac=function(Q){return new(Q||Z)(e.Y36(n.ez),e.Y36(r.l),e.Y36(o.e),e.Y36(ae.U))};static#t=this.\u0275cmp=e.Xpm({type:Z,selectors:[["ng-component"]],viewQuery:function(Q,m){if(1&Q&&e.Gf(j,5),2&Q){let p;e.iGM(p=e.CRH())&&(m.elementSelectAula=p.first)}},features:[e._Bn([n.ez])],decls:26,vars:16,consts:[[1,"grid"],[1,"col-12"],[1,"card"],["method","POST",3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["severity","warn","text","Por favor, ingrese su C.I. para registrar asistencia",4,"ngIf"],["htmlFor","ci"],["formControlName","ci","inputId","ci","mode","decimal","placeholder","12345678",3,"min","max","useGrouping"],["severity","warn","text","Seleccione la aula",4,"ngIf"],["htmlFor","aula"],["optionLabel","name","filterBy","name","placeholder","Seleccione la aula",3,"options","filter","onChange"],["selectAula",""],["severity","warn","text","",4,"ngIf"],["htmlFor","numberStudents"],["formControlName","cantidadEstudiantes","inputId","numberStudents","mode","decimal","placeholder","Cant. de estudiantes",3,"min","max","useGrouping"],["label","Enviar","type","submit",3,"loading","disabled"],["label","Resetear","severity","secondary",3,"ngStyle","onClick"],[3,"life"],["severity","warn","text","Por favor, ingrese su C.I. para registrar asistencia"],["severity","warn","text","Seleccione la aula"],["severity","warn","text",""]],template:function(Q,m){if(1&Q&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),e._uU(4,"Asistencia - Ingrese sus datos"),e.qZA(),e.TgZ(5,"form",3),e.NdJ("ngSubmit",function(){return m.onSubmit()}),e.TgZ(6,"div",4)(7,"div",5),e.YNc(8,k,1,0,"p-message",6),e.TgZ(9,"label",7),e._uU(10,"C.I.: (*)"),e.qZA(),e._UZ(11,"p-inputNumber",8),e.qZA(),e.TgZ(12,"div",5),e.YNc(13,ee,1,0,"p-message",9),e.TgZ(14,"label",10),e._uU(15,"Aula: (*)"),e.qZA(),e.TgZ(16,"p-dropdown",11,12),e.NdJ("onChange",function(l){return m.eventSelectAula(l)}),e.qZA()(),e.TgZ(18,"div",5),e.YNc(19,te,1,0,"p-message",13),e.TgZ(20,"label",14),e._uU(21,"Cantidad de estudiantes: (*)"),e.qZA(),e._UZ(22,"p-inputNumber",15),e.qZA()(),e._UZ(23,"p-button",16),e.TgZ(24,"p-button",17),e.NdJ("onClick",function(){return m.clearForm()}),e.qZA()()()()(),e._UZ(25,"p-toast",18)),2&Q){let p,l;e.xp6(5),e.Q6J("formGroup",m.data),e.xp6(3),e.Q6J("ngIf",(null==(p=m.data.get("ci"))?null:p.invalid)&&(null==(p=m.data.get("ci"))?null:p.touched)),e.xp6(3),e.Q6J("min",99999)("max",999999999)("useGrouping",!1),e.xp6(2),e.Q6J("ngIf",null==(l=m.data.get("idAula"))?null:l.invalid),e.xp6(3),e.Q6J("options",m.optionsAula)("filter",!0),e.xp6(6),e.Q6J("min",1)("max",200)("useGrouping",!1),e.xp6(1),e.Q6J("loading",m.loading)("disabled",m.data.invalid),e.xp6(1),e.Q6J("ngStyle",e.DdM(15,ie)),e.xp6(1),e.Q6J("life",2e4)}},dependencies:[R.O5,R.PC,$.q,a._Y,a.JJ,a.JL,a.sg,a.u,t.FN,z.Rn,X.Lt,U.zx],encapsulation:2})}return Z})(),K=(()=>{class Z{static#e=this.\u0275fac=function(Q){return new(Q||Z)};static#t=this.\u0275mod=e.oAB({type:Z});static#i=this.\u0275inj=e.cJS({imports:[J.Bz.forChild([{path:"",component:b}]),J.Bz]})}return Z})();var q=i(2169);let O=(()=>{class Z{static#e=this.\u0275fac=function(Q){return new(Q||Z)};static#t=this.\u0275mod=e.oAB({type:Z});static#i=this.\u0275inj=e.cJS({imports:[R.ez,K,$.O,a.UX,t.EV,q.o,z.L$,X.kW,U.hJ]})}return Z})()},1746:(oe,L,i)=>{i.r(L),i.d(L,{RegisterAssignMateriaModule:()=>F});var R=i(6814),J=i(8075),a=i(6223),n=i(5219),S=i(9397),M=i(6306),C=i(4716),e=i(5879),r=i(7134),o=i(9569),ae=i(7960),$=i(4316),t=i(2121),z=i(7721),X=i(2160),U=i(7161),j=i(4104),k=i(707),ee=i(3714),te=i(354),ie=i(5609);const b=["selectAula"],K=["selectMateria"],q=["selectHorario1"],O=["selectHorario2"];function Z(c,B){1&c&&e._UZ(0,"p-message",44)}function _(c,B){1&c&&e._UZ(0,"p-message",45)}function s(c,B){1&c&&e._UZ(0,"p-message",46)}function Q(c,B){1&c&&e._UZ(0,"p-message",47)}function m(c,B){1&c&&e._UZ(0,"p-message",48)}function p(c,B){1&c&&e._UZ(0,"p-message",49)}function l(c,B){1&c&&(e.TgZ(0,"label",50),e._uU(1," Nro de laboratorio 1"),e.qZA())}function Y(c,B){1&c&&e._UZ(0,"p-inputNumber",51),2&c&&e.Q6J("min",0)("max",100)("useGrouping",!1)}function A(c,B){1&c&&e._UZ(0,"p-message",52)}function E(c,B){1&c&&e._UZ(0,"p-message",53)}function D(c,B){1&c&&(e.TgZ(0,"label",50),e._uU(1,"Nro de laboratorio 2"),e.qZA())}function G(c,B){1&c&&e._UZ(0,"p-inputNumber",54),2&c&&e.Q6J("min",0)("max",100)("useGrouping",!1)}function h(c,B){1&c&&e._UZ(0,"p-message",55)}const re=function(){return{margin:"10px"}};let v=(()=>{class c{constructor(I,g,d,f,x,T,u){this.messageService=I,this.materiaCarreraSemestreService=g,this.docenteService=d,this.aulaService=f,this.horarioService=x,this.transformRegisterAssignMateriaService=T,this.asignaturaService=u,this.optionsAula=[],this.optionsHorario=[],this.optionsMateriaCarreraSemestre=[],this.optionsNumberHorario=[1,2],this.successDocente=!1,this.loading=!1,this.data=new a.cw({}),this.horarioMateriaDocente1=new a.cw({}),this.horarioMateriaDocente2=new a.cw({}),this.sigla=new a.NI("",[a.kI.required,a.kI.minLength(5)]),this.horario1Selected={},this.horario2Selected={},this.aulaSelected={}}ngOnInit(){this.initForm(),this.initAulas(),this.initHorarios()}initForm(){this.data=new a.cw({materiaDocente:new a.cw({ci:new a.NI("",[a.kI.required,a.kI.min(99999),a.kI.max(999999999)]),idMateriaCarreraSemestre:new a.NI(0,[a.kI.required,a.kI.min(1)])}),aulaMateriaDocente:new a.cw({idAula:new a.NI(0,[a.kI.required,a.kI.min(1)])}),horarioMateriaDocentes:new a.Oe([])}),this.horarioMateriaDocente1=new a.cw({laboratorio:new a.NI(!1,[a.kI.required]),nroLaboratorio:new a.NI(0,[]),idHorario:new a.NI(0,[a.kI.required,a.kI.min(1)])}),this.horarioMateriaDocente2=new a.cw({laboratorio:new a.NI(!1,[a.kI.required]),nroLaboratorio:new a.NI(0,[]),idHorario:new a.NI(0,[a.kI.required,a.kI.min(1)])})}initAulas(){this.aulaService.getAulas().pipe((0,S.b)(I=>{this.optionsAula=this.transformRegisterAssignMateriaService.aulaToOptionsAula(I.data)}),(0,M.K)(I=>{throw this.messageService.add({severity:"error",summary:"Error",detail:"No se pudo obtener las aulas"}),I})).subscribe()}initHorarios(){this.horarioService.getHorarios().pipe((0,S.b)(I=>{this.optionsHorario=this.transformRegisterAssignMateriaService.horarioToOptionsHorario(I.data)}),(0,M.K)(I=>{throw this.messageService.add({severity:"error",summary:"Error",detail:"No se pudo obtener los horarios"}),I})).subscribe()}onSubmit(){this.loading=!0,this.data.get("horarioMateriaDocentes").push(this.horarioMateriaDocente1),this.data.get("horarioMateriaDocentes").push(this.horarioMateriaDocente2),this.asignaturaService.saveAsignatura(this.data.value).pipe((0,S.b)(I=>{this.messageService.add({severity:"success",summary:"Success",detail:"Materia asignada"}),this.clearForm()}),(0,M.K)(I=>{throw this.messageService.add({severity:"error",summary:"Error",detail:"No se pudo asignar la materia"}),I}),(0,C.x)(()=>this.loading=!1)).subscribe()}searchMaterias(){this.sigla.valid&&this.materiaCarreraSemestreService.getMateriaCarreraSemestreBySigla(this.sigla.value).pipe((0,S.b)(I=>{this.messageService.add({severity:"success",summary:"Success",detail:"Materia encontrada"}),this.optionsMateriaCarreraSemestre=this.transformRegisterAssignMateriaService.materiaCarreraSemestreToOptionsMateria(I.data)}),(0,M.K)(I=>{throw this.messageService.add({severity:"error",summary:"Error",detail:"No se pudo obtener las materias"}),I})).subscribe()}searchDocente(){this.docenteService.getDocenteByCi(this.data.get("materiaDocente")?.get("ci")?.value).pipe((0,S.b)(I=>{this.messageService.add({severity:"success",summary:"Success",detail:`Docente ${I.data.nombre} ${I.data.apellido} encontrado.`}),this.successDocente=I.view}),(0,M.K)(I=>{throw this.data.get("materiaDocente")?.get("ci")?.setValue(0),this.messageService.add({severity:"error",summary:"Error",detail:"No se pudo obtener el docente"}),I})).subscribe()}eventSwitchLaboratorio1(I){I.checked?this.horarioMateriaDocente1.get("nroLaboratorio")?.setValidators([a.kI.required,a.kI.min(1),a.kI.max(15)]):(this.horarioMateriaDocente1.get("nroLaboratorio")?.clearValidators(),this.horarioMateriaDocente1.get("nroLaboratorio")?.updateValueAndValidity())}eventSwitchLaboratorio2(I){I.checked?this.horarioMateriaDocente2.get("nroLaboratorio")?.setValidators([a.kI.required,a.kI.min(1),a.kI.max(15)]):(this.horarioMateriaDocente2.get("nroLaboratorio")?.clearValidators(),this.horarioMateriaDocente2.get("nroLaboratorio")?.updateValueAndValidity())}eventSelectMateria(I){this.data.get("materiaDocente")?.get("idMateriaCarreraSemestre")?.setValue(I.value.code)}eventSelectAula(I){this.data.get("aulaMateriaDocente")?.get("idAula")?.setValue(I.value.code)}eventSelectHorario1(I){this.horarioMateriaDocente1.get("idHorario")?.setValue(I.value.code)}eventSelectHorario2(I){this.horarioMateriaDocente2.get("idHorario")?.setValue(I.value.code)}clearForm(){this.data.reset(),this.sigla.reset(),this.elementSelectAula.writeValue(null),this.elementSelectMateria.writeValue(null),this.elementSelectHorario1.writeValue(null),this.elementSelectHorario2.writeValue(null),this.successDocente=!1}static#e=this.\u0275fac=function(g){return new(g||c)(e.Y36(n.ez),e.Y36(r.y),e.Y36(o.H),e.Y36(ae.e),e.Y36($.W),e.Y36(t.U),e.Y36(z.x))};static#t=this.\u0275cmp=e.Xpm({type:c,selectors:[["ng-component"]],viewQuery:function(g,d){if(1&g&&(e.Gf(b,5),e.Gf(K,5),e.Gf(q,5),e.Gf(O,5)),2&g){let f;e.iGM(f=e.CRH())&&(d.elementSelectAula=f.first),e.iGM(f=e.CRH())&&(d.elementSelectMateria=f.first),e.iGM(f=e.CRH())&&(d.elementSelectHorario1=f.first),e.iGM(f=e.CRH())&&(d.elementSelectHorario2=f.first)}},features:[e._Bn([n.ez])],decls:63,vars:31,consts:[[1,"grid"],[1,"col-12"],[1,"card"],["method","POST",3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["severity","warn","text","Ingrese la sigla para filtrar las materias.",4,"ngIf"],["htmlFor","sigla"],["pInputText","","id","sigla","type","text","placeholder","MAT-112",3,"formControl"],[1,"flex","justify-content-center",2,"margin","10px"],["label","Buscar Materia","severity","info",3,"disabled","onClick"],["severity","warn","text","Seleccione la materia",4,"ngIf"],["htmlFor","materia"],["placeholder","Seleccione la materia","optionLabel","name",3,"options","onChange"],["selectMateria",""],["formGroupName","materiaDocente",1,"field","col-12","md:col-4"],["severity","warn","text","Ingrese el C.I. del docente ",4,"ngIf"],["severity","success","text","Docente cargado.",4,"ngIf"],["htmlFor","ci"],["pInputText","","id","ci","type","text","placeholder","12345678","formControlName","ci"],["label","Buscar Docente","severity","info",3,"disabled","onClick"],["severity","warn","text","Seleccione la aula",4,"ngIf"],["htmlFor","aula"],["optionLabel","name","filterBy","name","placeholder","Seleccione la aula",3,"options","filter","onChange"],["selectAula",""],[1,"field","col-12","md:col-4",3,"formGroup"],["htmlFor","horario1"],["formControlName","laboratorio",3,"onChange"],["severity","warn","text","Ingrese el numero de laboratorio",4,"ngIf"],["htmlFor","nroLaboratorio",4,"ngIf"],["formControlName","nroLaboratorio","inputId","nroLaboratorio","mode","decimal","placeholder","Numero de laboratorio",3,"min","max","useGrouping",4,"ngIf"],["severity","warn","text","Seleccione el horario 1",4,"ngIf"],["optionLabel","name","filterBy","name","placeholder","Seleccione el horario 1",3,"options","filter","onChange"],["selectHorario1",""],["htmlFor","horario2"],["id","horario2","formControlName","laboratorio",3,"onChange"],["severity","warn","text","Ingrese el numero de laboratorio ",4,"ngIf"],["inputId","nroLaboratorio","mode","decimal","placeholder","Numero de laboratorio","formControlName","nroLaboratorio",3,"min","max","useGrouping",4,"ngIf"],["severity","warn","text","Seleccione el horario 2",4,"ngIf"],["optionLabel","name","filterBy","name","placeholder","Seleccione el horario 2",3,"options","filter","onChange"],["selectHorario2",""],["label","Enviar","type","submit",3,"loading","disabled"],["label","Resetear","severity","secondary",3,"ngStyle","onClick"],[3,"life"],["severity","warn","text","Ingrese la sigla para filtrar las materias."],["severity","warn","text","Seleccione la materia"],["severity","warn","text","Ingrese el C.I. del docente "],["severity","success","text","Docente cargado."],["severity","warn","text","Seleccione la aula"],["severity","warn","text","Ingrese el numero de laboratorio"],["htmlFor","nroLaboratorio"],["formControlName","nroLaboratorio","inputId","nroLaboratorio","mode","decimal","placeholder","Numero de laboratorio",3,"min","max","useGrouping"],["severity","warn","text","Seleccione el horario 1"],["severity","warn","text","Ingrese el numero de laboratorio "],["inputId","nroLaboratorio","mode","decimal","placeholder","Numero de laboratorio","formControlName","nroLaboratorio",3,"min","max","useGrouping"],["severity","warn","text","Seleccione el horario 2"]],template:function(g,d){if(1&g&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),e._uU(4,"Asignatura - Ingrese sus datos"),e.qZA(),e.TgZ(5,"form",3),e.NdJ("ngSubmit",function(){return d.onSubmit()}),e.TgZ(6,"div",4)(7,"div",5),e.YNc(8,Z,1,0,"p-message",6),e.TgZ(9,"label",7),e._uU(10,"Sigla para filtrar la materia: (*)"),e.qZA(),e._UZ(11,"input",8),e.TgZ(12,"div",9)(13,"p-button",10),e.NdJ("onClick",function(){return d.searchMaterias()}),e.qZA()()(),e.TgZ(14,"div",5),e.YNc(15,_,1,0,"p-message",11),e.TgZ(16,"label",12),e._uU(17,"Materia: (*)"),e.qZA(),e.TgZ(18,"p-dropdown",13,14),e.NdJ("onChange",function(x){return d.eventSelectMateria(x)}),e.qZA()(),e.TgZ(20,"div",15),e.YNc(21,s,1,0,"p-message",16),e.YNc(22,Q,1,0,"p-message",17),e.TgZ(23,"label",18),e._uU(24,"C.I. del docente que dictara la materia: (*)"),e.qZA(),e._UZ(25,"input",19),e.TgZ(26,"div",9)(27,"p-button",20),e.NdJ("onClick",function(){return d.searchDocente()}),e.qZA()()(),e.TgZ(28,"div",5),e.YNc(29,m,1,0,"p-message",21),e.TgZ(30,"label",22),e._uU(31,"Aula: (*)"),e.qZA(),e.TgZ(32,"p-dropdown",23,24),e.NdJ("onChange",function(x){return d.eventSelectAula(x)}),e.qZA()(),e.TgZ(34,"div",25)(35,"label",26),e._uU(36,"Horario 1: Laboratorio "),e.qZA(),e.TgZ(37,"p-inputSwitch",27),e.NdJ("onChange",function(x){return d.eventSwitchLaboratorio1(x)}),e.qZA(),e.YNc(38,p,1,0,"p-message",28),e.YNc(39,l,2,0,"label",29),e.YNc(40,Y,1,3,"p-inputNumber",30),e.qZA(),e.TgZ(41,"div",5),e.YNc(42,A,1,0,"p-message",31),e.TgZ(43,"label",26),e._uU(44,"Horario 1: Seleccione Horario (*)"),e.qZA(),e.TgZ(45,"p-dropdown",32,33),e.NdJ("onChange",function(x){return d.eventSelectHorario1(x)}),e.qZA()(),e.TgZ(47,"div",25)(48,"label",34),e._uU(49,"Horario 2: Laboratorio"),e.qZA(),e.TgZ(50,"p-inputSwitch",35),e.NdJ("onChange",function(x){return d.eventSwitchLaboratorio2(x)}),e.qZA(),e.YNc(51,E,1,0,"p-message",36),e.YNc(52,D,2,0,"label",29),e.YNc(53,G,1,3,"p-inputNumber",37),e.qZA(),e.TgZ(54,"div",5),e.YNc(55,h,1,0,"p-message",38),e.TgZ(56,"label",34),e._uU(57,"Horario 2: Seleccione Horario (*)"),e.qZA(),e.TgZ(58,"p-dropdown",39,40),e.NdJ("onChange",function(x){return d.eventSelectHorario2(x)}),e.qZA()()(),e._UZ(60,"p-button",41),e.TgZ(61,"p-button",42),e.NdJ("onClick",function(){return d.clearForm()}),e.qZA()()()()(),e._UZ(62,"p-toast",43)),2&g){let f,x,T,u,H,N,w,y,V,W,ne,se,ue,le,me,ce,de,ge;e.xp6(5),e.Q6J("formGroup",d.data),e.xp6(3),e.Q6J("ngIf",d.sigla.invalid&&d.sigla.touched),e.xp6(3),e.Q6J("formControl",d.sigla),e.xp6(2),e.Q6J("disabled",d.sigla.invalid),e.xp6(2),e.Q6J("ngIf",null==(f=d.data.get("materiaDocente"))||null==(x=f.get("idMateriaCarreraSemestre"))?null:x.invalid),e.xp6(3),e.Q6J("options",d.optionsMateriaCarreraSemestre),e.xp6(3),e.Q6J("ngIf",(null==(T=d.data.get("materiaDocente"))||null==(u=T.get("ci"))?null:u.invalid)&&(null==(T=d.data.get("materiaDocente"))||null==(u=T.get("ci"))?null:u.touched)),e.xp6(1),e.Q6J("ngIf",d.successDocente&&(null==(H=d.data.get("materiaDocente"))||null==(N=H.get("ci"))?null:N.valid)),e.xp6(5),e.Q6J("disabled",null==(w=d.data.get("materiaDocente"))||null==(y=w.get("ci"))?null:y.invalid),e.xp6(2),e.Q6J("ngIf",null==(V=d.data.get("aulaMateriaDocente"))||null==(W=V.get("idAula"))?null:W.invalid),e.xp6(3),e.Q6J("options",d.optionsAula)("filter",!0),e.xp6(2),e.Q6J("formGroup",d.horarioMateriaDocente1),e.xp6(4),e.Q6J("ngIf",null==(ne=d.horarioMateriaDocente1.get("nroLaboratorio"))?null:ne.invalid),e.xp6(1),e.Q6J("ngIf",null==(se=d.horarioMateriaDocente1.get("laboratorio"))?null:se.value),e.xp6(1),e.Q6J("ngIf",null==(ue=d.horarioMateriaDocente1.get("laboratorio"))?null:ue.value),e.xp6(2),e.Q6J("ngIf",null==(le=d.horarioMateriaDocente1.get("idHorario"))?null:le.invalid),e.xp6(3),e.Q6J("options",d.optionsHorario)("filter",!0),e.xp6(2),e.Q6J("formGroup",d.horarioMateriaDocente2),e.xp6(4),e.Q6J("ngIf",null==(me=d.horarioMateriaDocente2.get("nroLaboratorio"))?null:me.invalid),e.xp6(1),e.Q6J("ngIf",null==(ce=d.horarioMateriaDocente2.get("laboratorio"))?null:ce.value),e.xp6(1),e.Q6J("ngIf",null==(de=d.horarioMateriaDocente2.get("laboratorio"))?null:de.value),e.xp6(2),e.Q6J("ngIf",null==(ge=d.horarioMateriaDocente2.get("idHorario"))?null:ge.invalid),e.xp6(3),e.Q6J("options",d.optionsHorario)("filter",!0),e.xp6(2),e.Q6J("loading",d.loading)("disabled",d.data.invalid||d.horarioMateriaDocente1.invalid||d.horarioMateriaDocente2.invalid),e.xp6(1),e.Q6J("ngStyle",e.DdM(30,re)),e.xp6(1),e.Q6J("life",1e4)}},dependencies:[R.O5,R.PC,X.Lt,a._Y,a.Fj,a.JJ,a.JL,a.oH,a.sg,a.u,a.x0,U.q,j.FN,k.zx,ee.o,te.Rn,ie.Ql],encapsulation:2})}return c})(),P=(()=>{class c{static#e=this.\u0275fac=function(g){return new(g||c)};static#t=this.\u0275mod=e.oAB({type:c});static#i=this.\u0275inj=e.cJS({imports:[J.Bz.forChild([{path:"",component:v}]),J.Bz]})}return c})(),F=(()=>{class c{static#e=this.\u0275fac=function(g){return new(g||c)};static#t=this.\u0275mod=e.oAB({type:c});static#i=this.\u0275inj=e.cJS({imports:[R.ez,P,X.kW,a.UX,U.O,j.EV,k.hJ,ee.j,te.L$,ie.Iu]})}return c})()},4934:(oe,L,i)=>{i.r(L),i.d(L,{RegisterAulaModule:()=>ie});var R=i(6814),J=i(8075),a=i(6223),n=i(5219),S=i(9397),M=i(6306),C=i(4716),e=i(5879),r=i(7960),o=i(3714),ae=i(7161),$=i(707),t=i(4104);function z(b,K){1&b&&e._UZ(0,"p-message",21)}function X(b,K){1&b&&e._UZ(0,"p-message",22)}function U(b,K){1&b&&e._UZ(0,"p-message",23)}function j(b,K){1&b&&e._UZ(0,"p-message",24)}const k=function(){return{margin:"10px"}};let ee=(()=>{class b{constructor(q,O){this.messageService=q,this.aulaService=O,this.aula=new a.cw({}),this.loading=!1}ngOnInit(){this.initForm()}initForm(){this.aula=new a.cw({id:new a.NI(0,[]),aula:new a.NI("",[a.kI.required,a.kI.minLength(2),a.kI.maxLength(6)]),paralelo:new a.NI("",[a.kI.required,a.kI.minLength(3),a.kI.maxLength(4)]),piso:new a.NI("",[a.kI.required,a.kI.minLength(2),a.kI.maxLength(3)]),bloque:new a.NI("",[a.kI.required,a.kI.minLength(1),a.kI.maxLength(1)])})}onSubmit(){this.loading=!0,this.aulaService.saveAula(this.aula.value).pipe((0,S.b)(()=>{this.messageService.add({severity:"success",summary:"Registro exitoso",detail:"Se registr\xf3 la aula correctamente"}),this.clearForm()}),(0,M.K)(q=>(this.messageService.add({severity:"error",summary:"Error",detail:"No se pudo registrar la aula"}),q)),(0,C.x)(()=>this.loading=!1)).subscribe()}clearForm(){this.aula.reset()}static#e=this.\u0275fac=function(O){return new(O||b)(e.Y36(n.ez),e.Y36(r.e))};static#t=this.\u0275cmp=e.Xpm({type:b,selectors:[["ng-component"]],features:[e._Bn([n.ez])],decls:30,vars:10,consts:[[1,"grid"],[1,"col-12"],[1,"card"],["method","POST",3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["severity","warn","text","El aula es requerida",4,"ngIf"],["htmlFor","aula"],["pInputText","","id","aula","formControlName","aula","type","text","placeholder","A12"],["severity","warn","text","El paralelo es requerida",4,"ngIf"],["htmlFor","paralelo"],["pInputText","","id","paralelo","formControlName","paralelo","type","text","placeholder","111"],["severity","warn","text","El piso es requerida",4,"ngIf"],["htmlFor","piso"],["pInputText","","id","piso","formControlName","piso","type","text","placeholder","P2"],["severity","warn","text","El bloque es requerida",4,"ngIf"],["htmlFor","bloque"],["pInputText","","id","bloque","formControlName","bloque","type","text","placeholder","A"],["label","Enviar","type","submit",3,"loading","disabled"],["label","Resetear","severity","secondary",3,"ngStyle","onClick"],[3,"life"],["severity","warn","text","El aula es requerida"],["severity","warn","text","El paralelo es requerida"],["severity","warn","text","El piso es requerida"],["severity","warn","text","El bloque es requerida"]],template:function(O,Z){if(1&O&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),e._uU(4,"Aula - Ingrese sus datos"),e.qZA(),e.TgZ(5,"form",3),e.NdJ("ngSubmit",function(){return Z.onSubmit()}),e.TgZ(6,"div",4)(7,"div",5),e.YNc(8,z,1,0,"p-message",6),e.TgZ(9,"label",7),e._uU(10,"Aula: (*)"),e.qZA(),e._UZ(11,"input",8),e.qZA(),e.TgZ(12,"div",5),e.YNc(13,X,1,0,"p-message",9),e.TgZ(14,"label",10),e._uU(15,"Paralelo: (*)"),e.qZA(),e._UZ(16,"input",11),e.qZA(),e.TgZ(17,"div",5),e.YNc(18,U,1,0,"p-message",12),e.TgZ(19,"label",13),e._uU(20,"Piso: (*)"),e.qZA(),e._UZ(21,"input",14),e.qZA(),e.TgZ(22,"div",5),e.YNc(23,j,1,0,"p-message",15),e.TgZ(24,"label",16),e._uU(25,"Bloque: (*)"),e.qZA(),e._UZ(26,"input",17),e.qZA()(),e._UZ(27,"p-button",18),e.TgZ(28,"p-button",19),e.NdJ("onClick",function(){return Z.clearForm()}),e.qZA()()()()(),e._UZ(29,"p-toast",20)),2&O){let _,s,Q,m;e.xp6(5),e.Q6J("formGroup",Z.aula),e.xp6(3),e.Q6J("ngIf",(null==(_=Z.aula.get("aula"))?null:_.invalid)&&(null==(_=Z.aula.get("aula"))?null:_.touched)),e.xp6(5),e.Q6J("ngIf",(null==(s=Z.aula.get("paralelo"))?null:s.invalid)&&(null==(s=Z.aula.get("paralelo"))?null:s.touched)),e.xp6(5),e.Q6J("ngIf",(null==(Q=Z.aula.get("piso"))?null:Q.invalid)&&(null==(Q=Z.aula.get("piso"))?null:Q.touched)),e.xp6(5),e.Q6J("ngIf",(null==(m=Z.aula.get("bloque"))?null:m.invalid)&&(null==(m=Z.aula.get("bloque"))?null:m.touched)),e.xp6(4),e.Q6J("loading",Z.loading)("disabled",Z.aula.invalid),e.xp6(1),e.Q6J("ngStyle",e.DdM(9,k)),e.xp6(1),e.Q6J("life",1e4)}},dependencies:[R.O5,R.PC,o.o,ae.q,$.zx,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,t.FN],encapsulation:2})}return b})(),te=(()=>{class b{static#e=this.\u0275fac=function(O){return new(O||b)};static#t=this.\u0275mod=e.oAB({type:b});static#i=this.\u0275inj=e.cJS({imports:[J.Bz.forChild([{path:"",component:ee}]),J.Bz]})}return b})(),ie=(()=>{class b{static#e=this.\u0275fac=function(O){return new(O||b)};static#t=this.\u0275mod=e.oAB({type:b});static#i=this.\u0275inj=e.cJS({imports:[R.ez,te,o.j,ae.O,$.hJ,a.UX,t.EV]})}return b})()},7772:(oe,L,i)=>{i.r(L),i.d(L,{RegisterDocenteModule:()=>T});var R=i(6814),J=i(8075),a=i(5861),n=i(6223),S=i(5219),M=i(9397),C=i(6328),e=i(4716),r=i(6306),o=i(8504),ae=i(5592),$=i(9862),t=i(5879),z=i(5927),X=i(1230),U=i(9008),j=i(9569),k=i(7906),ee=i(4104),te=i(354),ie=i(3714),b=i(1865),K=i(7853),q=i(417),O=i(707),Z=i(2169),_=i(7161),s=i(2160),Q=i(5609);const m=["selectRol"],p=["file"];function l(u,H){1&u&&t._UZ(0,"p-message",53)}function Y(u,H){if(1&u&&(t.TgZ(0,"ul")(1,"li"),t._uU(2),t.qZA()()),2&u){const N=t.oxw();t.xp6(2),t.AsE("",null==N.fileUpload?null:N.fileUpload.name," - ",null==N.fileUpload?null:N.fileUpload.size," bytes")}}function A(u,H){1&u&&t._UZ(0,"p-message",54)}function E(u,H){1&u&&t._UZ(0,"p-message",55)}function D(u,H){1&u&&t._UZ(0,"p-message",56)}function G(u,H){1&u&&t._UZ(0,"p-message",57)}function h(u,H){1&u&&t._UZ(0,"p-message",58)}function re(u,H){1&u&&t._UZ(0,"p-message",59)}function v(u,H){1&u&&t._UZ(0,"p-message",60)}function P(u,H){1&u&&t._UZ(0,"p-message",61)}function F(u,H){1&u&&t._UZ(0,"p-message",62)}function c(u,H){1&u&&t._UZ(0,"p-message",63)}function B(u,H){if(1&u&&t._UZ(0,"p-message",64),2&u){const N=t.oxw();t.FAE("text","El codigo RFID proviene de la Aula:\n                  ",N.ngxMqttService.aula.paralelo," - ",N.ngxMqttService.aula.aula," -\n                  ",N.ngxMqttService.aula.piso," - ",N.ngxMqttService.aula.bloque,"")}}function I(u,H){1&u&&t._UZ(0,"p-message",65)}const g=function(){return{margin:"10px"}},d=/^[a-zA-Z]+\.[a-zA-Z]+@servicios\.usalesiana\.edu\.bo$/;let f=(()=>{class u{constructor(N,w,y,V,W,ne){this.messageService=N,this.imageComprees=w,this.ngxMqttService=y,this.rolService=V,this.docenteService=W,this.personaService=ne,this.docente=new n.cw({}),this.progress=0,this.loading=!1,this.loadingDocente=!1,this.loadingImage=!1,this.confirmPassword=new n.NI("",[n.kI.required]),this.passwordEquals=!0,this.roles=[]}ngOnInit(){this.initRoles(),this.initForm()}initRoles(){this.rolService.getRoles().pipe((0,M.b)(N=>{this.roles=N.data})).subscribe()}initForm(){this.docente=new n.cw({ci:new n.NI(0,[n.kI.required,n.kI.min(99999),n.kI.max(999999999)]),nombre:new n.NI("",[n.kI.required,n.kI.minLength(3),n.kI.maxLength(50)]),apellido:new n.NI("",[n.kI.required,n.kI.minLength(3),n.kI.maxLength(50)]),fotografia:new n.NI(""),email:new n.NI("",[n.kI.required,n.kI.email]),genero:new n.NI("",[n.kI.required]),correoInstitucional:new n.NI("",[n.kI.required,n.kI.email,n.kI.pattern(d)]),contrasenia:new n.NI("",[n.kI.required,n.kI.minLength(7),n.kI.maxLength(20)]),activo:new n.NI(!0,[n.kI.required]),rol:new n.NI(0,[n.kI.required,n.kI.min(1)]),codRfid:new n.NI("",[])})}onSubmit(){this.loading=!0,this.docente.get("codRfid")?.setValue(this.ngxMqttService.messageDocenteRegister.codigoRfid),this.saveDocente().pipe((0,C.b)(()=>this.saveImageDocente()),(0,e.x)(()=>{this.loadingDocente&&this.loadingImage&&(this.messageService.add({severity:"success",summary:"Exito",detail:"Sus datos se guardaron correctamente."}),this.clearForm()),this.loading=!1})).subscribe()}clearForm(){this.docente.reset(),this.confirmPassword.reset(),this.fileUpload=void 0,this.passwordEquals=!0,this.progress=0,this.elementSelectRol.writeValue(null),this.clearMqttRegistrarDocente(),this.fileComponent.clear()}saveDocente(){return this.docenteService.saveDocente(this.docente.value).pipe((0,M.b)(N=>{this.loadingDocente=N.save,this.messageService.add({severity:"success",summary:"Exito",detail:"Docente guardado correctamente."})}),(0,r.K)(N=>(this.messageService.add({severity:"error",summary:"Error",detail:"No se pudo guardar el docente."}),(0,o._)(()=>N))))}saveImageDocente(){let N=new ae.y;return void 0!==this.fileUpload&&(N=this.personaService.saveImagePersona(this.fileUpload,this.docente.get("ci")?.value).pipe((0,M.b)(w=>(w.type===$.dt.UploadProgress&&(this.progress=Math.round(w.loaded/(w.total??w.loaded)*100),console.log(`Archivo subido: ${this.progress}%`),this.loadingImage=!0,this.messageService.add({severity:"info",summary:"Cargando",detail:`Archivo subido: ${this.progress}%`})),w)),(0,r.K)(w=>(this.messageService.add({severity:"error",summary:"Error",detail:"No se pudo guardar la imagen."}),this.loadingImage=!1,(0,o._)(()=>w))))),N}onSelect(N){var w=this;return(0,a.Z)(function*(){0!==N.currentFiles.length&&(yield w.imageComprees.compressFile(N.currentFiles[0],N.currentFiles[0].name).then(y=>{void 0!==y?(w.fileUpload=y,w.messageService.add({severity:"info",summary:"Imagen Cargado",detail:"Se comprimio la imagen."})):w.messageService.add({severity:"error",summary:"Error",detail:"No se pudo comprimir la imagen."})}))})()}eventSelectRol(N){this.docente.get("rol")?.setValue(N.value.id)}comparePassword(){this.passwordEquals=this.docente.get("contrasenia")?.value!==this.confirmPassword.value}onClear(N){this.fileUpload=void 0}clearMqttRegistrarDocente(){this.ngxMqttService.messageDocenteRegister.codigoRfid="",this.ngxMqttService.cardRfidLoad=!1}static#e=this.\u0275fac=function(w){return new(w||u)(t.Y36(S.ez),t.Y36(z.s),t.Y36(X.l),t.Y36(U.m),t.Y36(j.H),t.Y36(k.J))};static#t=this.\u0275cmp=t.Xpm({type:u,selectors:[["ng-component"]],viewQuery:function(w,y){if(1&w&&(t.Gf(m,5),t.Gf(p,5)),2&w){let V;t.iGM(V=t.CRH())&&(y.elementSelectRol=V.first),t.iGM(V=t.CRH())&&(y.fileComponent=V.first)}},features:[t._Bn([S.ez])],decls:79,vars:27,consts:[[1,"grid"],[1,"col-12"],[1,"card"],[1,"field","col-12","md:col-8"],["severity","warn","text","Por favor, cargue su imagen de perfil.",4,"ngIf"],["name","imageDocente","accept","image/jpeg","invalidFileLimitMessageSummary","L\xedmite de archivo inv\xe1lido","invalidFileTypeMessageSummary","{0}: Tipo de archivo no v\xe1lido,","invalidFileLimitMessageDetail","El l\xedmite es {0} como m\xe1ximo.","invalidFileTypeMessageDetail","Tipos de archivos permitidos: {0}.","invalidFileSizeMessageSummary","{0}: Tama\xf1o de archivo no v\xe1lido,","invalidFileSizeMessageDetail","El tama\xf1o m\xe1ximo de carga es {0}.","invalidFileSizeMensajeResumen","{0}: Tama\xf1o de archivo no v\xe1lido,",3,"maxFileSize","showUploadButton","onSelect","onClear"],["file",""],["pTemplate","content"],["method","POST",3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["severity","warn","text","Por favor, ingrese su C.I.",4,"ngIf"],["htmlFor","ci"],["formControlName","ci","inputId","ci","mode","decimal","placeholder","12345678",3,"min","max","useGrouping"],["severity","warn","text","Por favor, ingrese su nombre",4,"ngIf"],["htmlFor","nombre"],["pInputText","","id","nombre","formControlName","nombre","type","text","placeholder","Jose Luis"],["severity","warn","text","Por favor, ingrese su Apellido",4,"ngIf"],["htmlFor","apellido"],["pInputText","","id","apellido","formControlName","apellido","type","text","placeholder","Quispe Mamani"],["severity","warn","text","Por favor, ingrese su Email Personal",4,"ngIf"],["htmlFor","email"],["pInputText","","id","email","formControlName","email","type","text","placeholder","text@text.com"],[1,"field","col-12","md:col-4","flex","flex-wrap","gap-3"],["severity","warn","text","Por favor, ingrese su Genero",4,"ngIf"],[1,"flex","align-items-center"],["name","genero","value","M","inputId","masculino","formControlName","genero"],["for","masculino",1,"ml-2"],["name","genero","value","F","inputId","femenino","formControlName","genero"],["for","femenino",1,"ml-2"],["severity","warn","text","Por favor, ingrese su Correo Institucional",4,"ngIf"],["htmlFor","correoInstitucional"],["pInputText","","id","correoInstitucional","formControlName","correoInstitucional","type","text","placeholder","text.text@servicios.usalesiana.edu.bo"],["severity","warn","text","Para asegurar la seguridad de su contrase\xf1a, debe cumplir con los siguientes requisitos:\n                Al menos 8 caracteres de longitud.\n                Incluir al menos un n\xfamero.\n                Incluir al menos una letra may\xfascula.\n                Incluir al menos una letra min\xfascula.\n                Debe contener al menos un s\xedmbolo especial.",4,"ngIf"],["htmlFor","password"],["id","password","placeholder","Ab@1234\\*?!","formControlName","contrasenia","required",""],["severity","warn","text","Por favor, introduzca la confirmaci\xf3n de la contrase\xf1a.",4,"ngIf"],["severity","warn","text","Las contrase\xf1as no coinciden.",4,"ngIf"],["placeholder","Confirme su contrase\xf1a","id","password","required","",3,"formControl","keyup"],["severity","info","text","Para obtener el c\xf3digo RFID, simplemente acerque la tarjeta RFID\n                a cualquier lector. Recuerde que debe cambiar el m\xf3dulo al modo 'Registrar Docente'\n                para poder leer la tarjeta RFID.",4,"ngIf"],["severity","success",3,"text",4,"ngIf"],["htmlFor","cardRfid",1,"m-3"],["image","/assets/asistencia/icons/registerDocente/rfid.png","id","cardRfid",3,"label"],["severity","warn","text","Por favor, ingrese su rol",4,"ngIf"],["for","m-3 float-label "],["placeholder","Ingrese sus Roles","optionLabel","nombre","inputId","float-label",3,"options","onChange"],["selectRol",""],[1,"flex","justify-content-center"],["for","m-3","htmlFor","activo"],["id","activo","formControlName","activo",1,"m-3"],["label","Enviar","type","submit",3,"loading","disabled"],["label","Resetear","severity","secondary",3,"ngStyle","onClick"],[3,"life"],["severity","warn","text","Por favor, cargue su imagen de perfil."],["severity","warn","text","Por favor, ingrese su C.I."],["severity","warn","text","Por favor, ingrese su nombre"],["severity","warn","text","Por favor, ingrese su Apellido"],["severity","warn","text","Por favor, ingrese su Email Personal"],["severity","warn","text","Por favor, ingrese su Genero"],["severity","warn","text","Por favor, ingrese su Correo Institucional"],["severity","warn","text","Para asegurar la seguridad de su contrase\xf1a, debe cumplir con los siguientes requisitos:\n                Al menos 8 caracteres de longitud.\n                Incluir al menos un n\xfamero.\n                Incluir al menos una letra may\xfascula.\n                Incluir al menos una letra min\xfascula.\n                Debe contener al menos un s\xedmbolo especial."],["severity","warn","text","Por favor, introduzca la confirmaci\xf3n de la contrase\xf1a."],["severity","warn","text","Las contrase\xf1as no coinciden."],["severity","info","text","Para obtener el c\xf3digo RFID, simplemente acerque la tarjeta RFID\n                a cualquier lector. Recuerde que debe cambiar el m\xf3dulo al modo 'Registrar Docente'\n                para poder leer la tarjeta RFID."],["severity","success",3,"text"],["severity","warn","text","Por favor, ingrese su rol"]],template:function(w,y){if(1&w&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),t._uU(4,"Docente - Ingrese sus datos"),t.qZA(),t.TgZ(5,"div",3),t.YNc(6,l,1,0,"p-message",4),t.TgZ(7,"p-fileUpload",5,6),t.NdJ("onSelect",function(W){return y.onSelect(W)})("onClear",function(W){return y.onClear(W)}),t.YNc(9,Y,3,2,"ng-template",7),t.qZA()(),t.TgZ(10,"form",8),t.NdJ("ngSubmit",function(){return y.onSubmit()}),t.TgZ(11,"div",9)(12,"div",10),t.YNc(13,A,1,0,"p-message",11),t.TgZ(14,"label",12),t._uU(15,"C.I.: (*)"),t.qZA(),t._UZ(16,"p-inputNumber",13),t.qZA(),t.TgZ(17,"div",10),t.YNc(18,E,1,0,"p-message",14),t.TgZ(19,"label",15),t._uU(20,"Nombre: (*)"),t.qZA(),t._UZ(21,"input",16),t.qZA(),t.TgZ(22,"div",10),t.YNc(23,D,1,0,"p-message",17),t.TgZ(24,"label",18),t._uU(25,"Apellido: (*)"),t.qZA(),t._UZ(26,"input",19),t.qZA(),t.TgZ(27,"div",10),t.YNc(28,G,1,0,"p-message",20),t.TgZ(29,"label",21),t._uU(30,"Email Personal: (*)"),t.qZA(),t._UZ(31,"input",22),t.qZA(),t.TgZ(32,"div",23),t.YNc(33,h,1,0,"p-message",24),t.TgZ(34,"div",25),t._UZ(35,"p-radioButton",26),t.TgZ(36,"label",27),t._uU(37,"Masculino: (*)"),t.qZA()(),t.TgZ(38,"div",25),t._UZ(39,"p-radioButton",28),t.TgZ(40,"label",29),t._uU(41,"Femenino: (*)"),t.qZA()()(),t.TgZ(42,"div",10),t.YNc(43,re,1,0,"p-message",30),t.TgZ(44,"label",31),t._uU(45,"Correo Institucional: (*)"),t.qZA(),t._UZ(46,"input",32),t.qZA(),t.TgZ(47,"div",10),t.YNc(48,v,1,0,"p-message",33),t.TgZ(49,"label",34),t._uU(50,"Contrase\xf1a: (*)"),t.qZA(),t._UZ(51,"p-password",35),t.qZA(),t.TgZ(52,"div",10),t.YNc(53,P,1,0,"p-message",36),t.YNc(54,F,1,0,"p-message",37),t.TgZ(55,"label",34),t._uU(56,"Confirmar Contrase\xf1a: (*)"),t.qZA(),t.TgZ(57,"p-password",38),t.NdJ("keyup",function(){return y.comparePassword()}),t.qZA()(),t.TgZ(58,"div",10),t.YNc(59,c,1,0,"p-message",39),t.YNc(60,B,1,4,"p-message",40),t.TgZ(61,"div",25)(62,"label",41),t._uU(63,"Tarjeta RFID: (*)"),t.qZA(),t._UZ(64,"p-chip",42),t.qZA()(),t.TgZ(65,"div",10),t.YNc(66,I,1,0,"p-message",43),t.TgZ(67,"label",44),t._uU(68,"Ingrese su Rol: (*)"),t.qZA(),t.TgZ(69,"p-dropdown",45,46),t.NdJ("onChange",function(W){return y.eventSelectRol(W)}),t.qZA()(),t.TgZ(71,"div",10)(72,"div",47)(73,"label",48),t._uU(74,"Activo: (*)"),t.qZA(),t._UZ(75,"p-inputSwitch",49),t.qZA()()(),t._UZ(76,"p-button",50),t.TgZ(77,"p-button",51),t.NdJ("onClick",function(){return y.clearForm()}),t.qZA()()()()(),t._UZ(78,"p-toast",52)),2&w){let V,W,ne,se,ue,le,me,ce;t.xp6(6),t.Q6J("ngIf",null==y.fileUpload),t.xp6(1),t.Q6J("maxFileSize",1e6)("showUploadButton",!1),t.xp6(3),t.Q6J("formGroup",y.docente),t.xp6(3),t.Q6J("ngIf",(null==(V=y.docente.get("ci"))?null:V.invalid)&&(null==(V=y.docente.get("ci"))?null:V.touched)),t.xp6(3),t.Q6J("min",99999)("max",999999999)("useGrouping",!1),t.xp6(2),t.Q6J("ngIf",(null==(W=y.docente.get("nombre"))?null:W.invalid)&&(null==(W=y.docente.get("nombre"))?null:W.touched)),t.xp6(5),t.Q6J("ngIf",(null==(ne=y.docente.get("apellido"))?null:ne.invalid)&&(null==(ne=y.docente.get("apellido"))?null:ne.touched)),t.xp6(5),t.Q6J("ngIf",(null==(se=y.docente.get("email"))?null:se.invalid)&&(null==(se=y.docente.get("email"))?null:se.touched)),t.xp6(5),t.Q6J("ngIf",null==(ue=y.docente.get("genero"))?null:ue.invalid),t.xp6(10),t.Q6J("ngIf",(null==(le=y.docente.get("correoInstitucional"))?null:le.invalid)&&(null==(le=y.docente.get("correoInstitucional"))?null:le.touched)),t.xp6(5),t.Q6J("ngIf",(null==(me=y.docente.get("contrasenia"))?null:me.invalid)&&(null==(me=y.docente.get("contrasenia"))?null:me.touched)),t.xp6(5),t.Q6J("ngIf",y.confirmPassword.invalid&&y.confirmPassword.touched),t.xp6(1),t.Q6J("ngIf",y.passwordEquals),t.xp6(3),t.Q6J("formControl",y.confirmPassword),t.xp6(2),t.Q6J("ngIf",!y.ngxMqttService.cardRfidLoad),t.xp6(1),t.Q6J("ngIf",y.ngxMqttService.cardRfidLoad),t.xp6(4),t.Q6J("label",y.ngxMqttService.messageDocenteRegister.codigoRfid),t.xp6(2),t.Q6J("ngIf",null==(ce=y.docente.get("rol"))?null:ce.invalid),t.xp6(3),t.Q6J("options",y.roles),t.xp6(7),t.Q6J("loading",y.loading)("disabled",!(y.docente.valid&&!y.passwordEquals&&y.ngxMqttService.cardRfidLoad&&void 0!==y.fileUpload)),t.xp6(1),t.Q6J("ngStyle",t.DdM(26,g)),t.xp6(1),t.Q6J("life",1e4)}},dependencies:[R.O5,R.PC,ee.FN,S.jx,te.Rn,ie.o,b.EU,n._Y,n.Fj,n.JJ,n.JL,n.Q7,n.oH,n.sg,n.u,K.ro,q.p,O.zx,Z.A,_.q,s.Lt,Q.Ql],encapsulation:2})}return u})(),x=(()=>{class u{static#e=this.\u0275fac=function(w){return new(w||u)};static#t=this.\u0275mod=t.oAB({type:u});static#i=this.\u0275inj=t.cJS({imports:[J.Bz.forChild([{path:"",component:f}]),J.Bz]})}return u})(),T=(()=>{class u{static#e=this.\u0275fac=function(w){return new(w||u)};static#t=this.\u0275mod=t.oAB({type:u});static#i=this.\u0275inj=t.cJS({imports:[R.ez,x,ee.EV,te.L$,ie.j,b.cc,n.UX,K.gz,q.O,O.hJ,Z.o,_.O,s.kW,Q.Iu]})}return u})()},9019:(oe,L,i)=>{i.r(L),i.d(L,{RegisterHorarioModule:()=>p});var R=i(6814),J=i(8075),a=i(6223),n=i(5219),S=i(6328),M=i(7398),C=i(6306),e=i(9397),r=i(4716),o=i(5879),ae=i(2041),$=i(2313),t=i(4316),z=i(7161),X=i(707),U=i(4104),j=i(1532),k=i(2160);const ee=["selectDia"],te=["selectTurno"],ie=["horaInicio"],b=["horaFin"];function K(l,Y){1&l&&o._UZ(0,"p-message",24)}function q(l,Y){1&l&&o._UZ(0,"p-message",25)}function O(l,Y){1&l&&o._UZ(0,"p-message",26)}function Z(l,Y){1&l&&o._UZ(0,"p-message",27)}const _=function(){return{margin:"10px"}};let s=(()=>{class l{constructor(A,E,D,G){this.messageService=A,this.turnoService=E,this.diaService=D,this.horarioService=G,this.horario=new a.cw({}),this.optionsTurno=[],this.optionsDia=[],this.loading=!1}ngOnInit(){this.initForm(),this.initData()}initData(){this.loadDiaSemana().pipe((0,S.b)(()=>this.loadTurnos())).subscribe()}initForm(){this.horario=new a.cw({idHorario:new a.NI(0,[]),horaInicio:new a.NI("",[a.kI.required]),horaFin:new a.NI("",[a.kI.required]),idDia:new a.NI(0,[a.kI.required,a.kI.min(1)]),idTurno:new a.NI(0,[a.kI.required,a.kI.min(1)])})}loadDiaSemana(){return this.diaService.getDias().pipe((0,M.U)(A=>{this.optionsDia=A.data}),(0,C.K)(A=>{throw this.messageService.add({severity:"error",summary:"Error",detail:"Error al cargar los dias de la semana"}),A}))}loadTurnos(){return this.turnoService.getTurnos().pipe((0,M.U)(A=>{this.optionsTurno=A.data}),(0,C.K)(A=>{throw this.messageService.add({severity:"error",summary:"Error",detail:"Error al cargar los turnos"}),A}))}onSubmit(){this.loading=!0,this.horarioService.saveHorario(this.horario.value).pipe((0,e.b)(()=>{this.messageService.add({severity:"success",summary:"Success",detail:"Horario guardado correctamente"}),this.clearForm()}),(0,C.K)(A=>{throw this.messageService.add({severity:"error",summary:"Error",detail:"Error al guardar el horario"}),A}),(0,r.x)(()=>this.loading=!1)).subscribe()}eventSelectDia(A){this.horario.get("idDia")?.setValue(A.value.id)}eventSelectTurno(A){this.horario.get("idTurno")?.setValue(A.value.id)}eventSelectHoraInicio(A){this.horario.get("horaInicio")?.setValue(this.convertHour(A))}eventSelectHoraFin(A){this.horario.get("horaFin")?.setValue(this.convertHour(A))}clearForm(){this.horario.reset(),this.elementSelectDia.writeValue(null),this.elementSelectTurno.writeValue(null),this.elementHoraInicio.writeValue(null),this.elementHoraFin.writeValue(null)}convertHour(A){const E=new Date(A);return E.getHours()+":"+E.getMinutes()+":"+E.getSeconds()}static#e=this.\u0275fac=function(E){return new(E||l)(o.Y36(n.ez),o.Y36(ae.D),o.Y36($.v),o.Y36(t.W))};static#t=this.\u0275cmp=o.Xpm({type:l,selectors:[["ng-component"]],viewQuery:function(E,D){if(1&E&&(o.Gf(ee,5),o.Gf(te,5),o.Gf(ie,5),o.Gf(b,5)),2&E){let G;o.iGM(G=o.CRH())&&(D.elementSelectDia=G.first),o.iGM(G=o.CRH())&&(D.elementSelectTurno=G.first),o.iGM(G=o.CRH())&&(D.elementHoraInicio=G.first),o.iGM(G=o.CRH())&&(D.elementHoraFin=G.first)}},features:[o._Bn([n.ez])],decls:34,vars:16,consts:[[1,"grid"],[1,"col-12"],[1,"card"],["method","POST",3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["severity","warn","text","La hora de inicio es requerida",4,"ngIf"],["htmlFor","horaInicio"],[3,"timeOnly","readonlyInput","onSelect"],["horaInicio",""],["severity","warn","text","La hora de fin es requerida",4,"ngIf"],["htmlFor","horaFin"],["horaFin",""],["severity","warn","text","El dia es requerido",4,"ngIf"],["htmlFor","dia"],["optionLabel","nombre","placeholder","Seleccione el dia",3,"options","onChange"],["selectDia",""],["severity","warn","text","El turno es requerido",4,"ngIf"],["htmlFor","turno"],["optionLabel","nombre","placeholder","Seleccione el turno",3,"options","onChange"],["selectTurno",""],["label","Enviar","type","submit",3,"loading","disabled"],["label","Resetear","severity","secondary",3,"ngStyle","onClick"],[3,"life"],["severity","warn","text","La hora de inicio es requerida"],["severity","warn","text","La hora de fin es requerida"],["severity","warn","text","El dia es requerido"],["severity","warn","text","El turno es requerido"]],template:function(E,D){if(1&E&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),o._uU(4,"Horario - Ingrese sus datos"),o.qZA(),o.TgZ(5,"form",3),o.NdJ("ngSubmit",function(){return D.onSubmit()}),o.TgZ(6,"div",4)(7,"div",5),o.YNc(8,K,1,0,"p-message",6),o.TgZ(9,"label",7),o._uU(10,"Hora de Inicio: (*)"),o.qZA(),o.TgZ(11,"p-calendar",8,9),o.NdJ("onSelect",function(h){return D.eventSelectHoraInicio(h)}),o.qZA()(),o.TgZ(13,"div",5),o.YNc(14,q,1,0,"p-message",10),o.TgZ(15,"label",11),o._uU(16,"Hora Final: (*)"),o.qZA(),o.TgZ(17,"p-calendar",8,12),o.NdJ("onSelect",function(h){return D.eventSelectHoraFin(h)}),o.qZA()(),o.TgZ(19,"div",5),o.YNc(20,O,1,0,"p-message",13),o.TgZ(21,"label",14),o._uU(22,"Dia: (*)"),o.qZA(),o.TgZ(23,"p-dropdown",15,16),o.NdJ("onChange",function(h){return D.eventSelectDia(h)}),o.qZA()(),o.TgZ(25,"div",5),o.YNc(26,Z,1,0,"p-message",17),o.TgZ(27,"label",18),o._uU(28,"Turno: (*)"),o.qZA(),o.TgZ(29,"p-dropdown",19,20),o.NdJ("onChange",function(h){return D.eventSelectTurno(h)}),o.qZA()()(),o._UZ(31,"p-button",21),o.TgZ(32,"p-button",22),o.NdJ("onClick",function(){return D.clearForm()}),o.qZA()()()()(),o._UZ(33,"p-toast",23)),2&E){let G,h;o.xp6(5),o.Q6J("formGroup",D.horario),o.xp6(3),o.Q6J("ngIf",null==(G=D.horario.get("horaInicio"))?null:G.invalid),o.xp6(3),o.Q6J("timeOnly",!0)("readonlyInput",!0),o.xp6(3),o.Q6J("ngIf",null==(h=D.horario.get("horaFin"))?null:h.invalid),o.xp6(3),o.Q6J("timeOnly",!0)("readonlyInput",!0),o.xp6(3),o.Q6J("ngIf",D.horario.controls.idDia.invalid),o.xp6(3),o.Q6J("options",D.optionsDia),o.xp6(3),o.Q6J("ngIf",D.horario.controls.idTurno.invalid),o.xp6(3),o.Q6J("options",D.optionsTurno),o.xp6(2),o.Q6J("loading",D.loading)("disabled",D.horario.invalid),o.xp6(1),o.Q6J("ngStyle",o.DdM(15,_)),o.xp6(1),o.Q6J("life",1e4)}},dependencies:[R.O5,R.PC,z.q,X.zx,a._Y,a.JL,a.sg,U.FN,j.f,k.Lt],encapsulation:2})}return l})(),Q=(()=>{class l{static#e=this.\u0275fac=function(E){return new(E||l)};static#t=this.\u0275mod=o.oAB({type:l});static#i=this.\u0275inj=o.cJS({imports:[J.Bz.forChild([{path:"",component:s}]),J.Bz]})}return l})();var m=i(3714);let p=(()=>{class l{static#e=this.\u0275fac=function(E){return new(E||l)};static#t=this.\u0275mod=o.oAB({type:l});static#i=this.\u0275inj=o.cJS({imports:[R.ez,Q,m.j,z.O,X.hJ,a.UX,U.EV,j._8,k.kW]})}return l})()},6041:(oe,L,i)=>{i.r(L),i.d(L,{RegisterLicenciaModule:()=>_});var R=i(6814),J=i(8075),a=i(6223),n=i(5219),S=i(6328),M=i(7398),C=i(6306),e=i(5879),r=i(553),o=i(9862);let ae=(()=>{class s{constructor(m){this.http=m,this.apiUrl=r.N.controlAsistenciaApiUrl+"/api/licencias"}saveLicencia(m){return this.http.post(this.apiUrl,m)}static#e=this.\u0275fac=function(p){return new(p||s)(e.LFG(o.eN))};static#t=this.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var $=i(8716),t=i(354),z=i(7161),X=i(707),U=i(4104),j=i(1532);let k=(()=>{class s{el;ngModel;control;cd;autoResize;onResize=new e.vpe;filled;cachedScrollHeight;ngModelSubscription;ngControlSubscription;constructor(m,p,l,Y){this.el=m,this.ngModel=p,this.control=l,this.cd=Y}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewChecked(){this.updateState()}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(m){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}resize(m){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(m||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}static \u0275fac=function(p){return new(p||s)(e.Y36(e.SBq),e.Y36(a.On,8),e.Y36(a.a5,8),e.Y36(e.sBO))};static \u0275dir=e.lG2({type:s,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(p,l){1&p&&e.NdJ("input",function(A){return l.onInput(A)}),2&p&&e.ekj("p-filled",l.filled)("p-inputtextarea-resizable",l.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}})}return s})(),ee=(()=>{class s{static \u0275fac=function(p){return new(p||s)};static \u0275mod=e.oAB({type:s});static \u0275inj=e.cJS({imports:[R.ez]})}return s})();const te=["fechas"];function ie(s,Q){1&s&&e._UZ(0,"p-message",21)}function b(s,Q){1&s&&e._UZ(0,"p-message",22)}function K(s,Q){1&s&&e._UZ(0,"p-message",23)}const q=function(){return{margin:"10px"}};let O=(()=>{class s{constructor(m,p,l){this.messageService=m,this.licenciaService=p,this.docenteLicenciaService=l,this.numberDate=0,this.licenciaLoading=!1,this.docenteLicenciaLoading=!1,this.licencia=new a.cw({}),this.docenteLicencia=new a.cw({}),this.loading=!1}ngOnInit(){this.initForm(),this.initDate()}initForm(){this.licencia=new a.cw({id:new a.NI(0),fechaInicio:new a.NI("",[a.kI.required,a.kI.minLength(8)]),fechaFinal:new a.NI("",[a.kI.required,a.kI.minLength(8)]),descripcion:new a.NI("",[a.kI.required,a.kI.minLength(50)])}),this.docenteLicencia=new a.cw({idDocenteLicencia:new a.NI(0),idLicencia:new a.NI(0,[a.kI.required,a.kI.min(1)]),ci:new a.NI(0,[a.kI.required,a.kI.min(99999),a.kI.max(999999999)])})}initDate(){let m=new Date,p=m.getMonth(),l=m.getFullYear(),Y=0===p?11:p-1,A=11===Y?l-1:l,E=11===p?0:p+1,D=0===E?l+1:l;this.minDate=new Date,this.minDate.setMonth(Y),this.minDate.setFullYear(A),this.minDate.setDate(m.getDate()),this.maxDate=new Date,this.maxDate.setMonth(E),this.maxDate.setFullYear(D)}eventSelectDate(m){this.numberDate++,3===this.numberDate&&(this.numberDate=1),1===this.numberDate&&(this.licencia.controls.fechaInicio.setValue(this.convertDate(m)),this.licencia.controls.fechaFinal.setValue("")),2===this.numberDate&&this.licencia.controls.fechaFinal.setValue(this.convertDate(m))}convertDate(m){return`${m.getFullYear()}-${(m.getMonth()+1).toString().padStart(2,"0")}-${m.getDate().toString().padStart(2,"0")}`}saveData(){this.saveLicencia().pipe((0,S.b)(()=>this.saveDocenteLicencia())).subscribe()}onSubmit(){this.saveData()}saveLicencia(){return this.licenciaService.saveLicencia(this.licencia.value).pipe((0,M.U)(m=>{this.docenteLicencia.controls.idLicencia.setValue(m.data.id),this.licenciaLoading=!0}),(0,C.K)(m=>(this.messageService.add({severity:"error",summary:"Error",detail:"No se pudo registrar la licencia"}),m)))}saveDocenteLicencia(){return this.docenteLicenciaService.saveDocenteLicencia(this.docenteLicencia.value).pipe((0,M.U)(m=>{this.docenteLicenciaLoading=!0,this.licenciaLoading&&this.docenteLicenciaLoading&&this.messageService.add({severity:"success",summary:"Success",detail:"Se registr\xf3 la licencia correctamente"}),this.clearForm()}),(0,C.K)(m=>(this.messageService.add({severity:"error",summary:"Error",detail:"No se pudo asignar la licencia al docente"}),m)))}clearForm(){this.licencia.reset(),this.docenteLicencia.reset(),this.clearDate(),this.elementFechas.writeValue(null)}clearDate(){this.numberDate=0,this.licencia.controls.fechaInicio.setValue(""),this.licencia.controls.fechaFinal.setValue("")}static#e=this.\u0275fac=function(p){return new(p||s)(e.Y36(n.ez),e.Y36(ae),e.Y36($.Q))};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["ng-component"]],viewQuery:function(p,l){if(1&p&&e.Gf(te,5),2&p){let Y;e.iGM(Y=e.CRH())&&(l.elementFechas=Y.first)}},features:[e._Bn([n.ez])],decls:26,vars:17,consts:[[1,"grid"],[1,"col-12"],[1,"card"],["method","POST",3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-6",3,"formGroup"],["severity","warn","text","Por favor, ingrese su C.I.",4,"ngIf"],["htmlFor","ci"],["formControlName","ci","inputId","ci","mode","decimal","placeholder","12345678",3,"min","max","useGrouping"],[1,"field","col-12","md:col-6"],["severity","warn","text","Por favor, ingrese la fechas de su licencia",4,"ngIf"],["htmlFor","fechaLicencia"],["selectionMode","range",3,"readonlyInput","minDate","maxDate","showButtonBar","onSelect","onClearClick"],["fechas",""],[1,"field","col-12","md:col-8"],["severity","warn","text","Por favor, ingrese la descripcion de su licencia",4,"ngIf"],["htmlFor","descripcion"],["pKeyFilter","string","rows","10","cols","120","pInputTextarea","","formControlName","descripcion"],["label","Enviar","type","submit",3,"loading","disabled"],["label","Resetear","severity","secondary",3,"ngStyle","onClick"],[3,"life"],["severity","warn","text","Por favor, ingrese su C.I."],["severity","warn","text","Por favor, ingrese la fechas de su licencia"],["severity","warn","text","Por favor, ingrese la descripcion de su licencia"]],template:function(p,l){if(1&p&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),e._uU(4,"Licencia - Ingrese sus datos"),e.qZA(),e.TgZ(5,"form",3),e.NdJ("ngSubmit",function(){return l.onSubmit()}),e.TgZ(6,"div",4)(7,"div",5),e.YNc(8,ie,1,0,"p-message",6),e.TgZ(9,"label",7),e._uU(10,"C.I.: (*)"),e.qZA(),e._UZ(11,"p-inputNumber",8),e.qZA(),e.TgZ(12,"div",9),e.YNc(13,b,1,0,"p-message",10),e.TgZ(14,"label",11),e._uU(15,"Inserte la fecha de sus licencia: (*)"),e.qZA(),e.TgZ(16,"p-calendar",12,13),e.NdJ("onSelect",function(A){return l.eventSelectDate(A)})("onClearClick",function(){return l.clearDate()}),e.qZA()(),e.TgZ(18,"div",14),e.YNc(19,K,1,0,"p-message",15),e.TgZ(20,"label",16),e._uU(21,"Descripcion: (*)"),e.qZA(),e._UZ(22,"textarea",17),e.qZA()(),e._UZ(23,"p-button",18),e.TgZ(24,"p-button",19),e.NdJ("onClick",function(){return l.clearForm()}),e.qZA()()()()(),e._UZ(25,"p-toast",20)),2&p){let Y,A,E,D;e.xp6(5),e.Q6J("formGroup",l.licencia),e.xp6(2),e.Q6J("formGroup",l.docenteLicencia),e.xp6(1),e.Q6J("ngIf",(null==(Y=l.docenteLicencia.get("ci"))?null:Y.invalid)&&(null==(Y=l.docenteLicencia.get("ci"))?null:Y.touched)),e.xp6(3),e.Q6J("min",99999)("max",999999999)("useGrouping",!1),e.xp6(2),e.Q6J("ngIf",(null==(A=l.licencia.get("fechaInicio"))?null:A.invalid)||(null==(A=l.licencia.get("fechaFinal"))?null:A.invalid)),e.xp6(3),e.Q6J("readonlyInput",!0)("minDate",l.minDate)("maxDate",l.maxDate)("showButtonBar",!0),e.xp6(3),e.Q6J("ngIf",(null==(E=l.licencia.get("descripcion"))?null:E.invalid)&&(null==(E=l.licencia.get("descripcion"))?null:E.touched)),e.xp6(4),e.Q6J("loading",l.loading)("disabled",l.licencia.invalid||(null==(D=l.docenteLicencia.get("ci"))?null:D.invalid)),e.xp6(1),e.Q6J("ngStyle",e.DdM(16,q)),e.xp6(1),e.Q6J("life",1e4)}},dependencies:[R.O5,R.PC,t.Rn,z.q,X.zx,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,U.FN,j.f,k],encapsulation:2})}return s})(),Z=(()=>{class s{static#e=this.\u0275fac=function(p){return new(p||s)};static#t=this.\u0275mod=e.oAB({type:s});static#i=this.\u0275inj=e.cJS({imports:[J.Bz.forChild([{path:"",component:O}]),J.Bz]})}return s})(),_=(()=>{class s{static#e=this.\u0275fac=function(p){return new(p||s)};static#t=this.\u0275mod=e.oAB({type:s});static#i=this.\u0275inj=e.cJS({imports:[R.ez,Z,t.L$,z.O,X.hJ,a.UX,U.EV,j._8,ee]})}return s})()},5220:(oe,L,i)=>{i.r(L),i.d(L,{RegisterMateriaModule:()=>G});var R=i(6814),J=i(8075),a=i(6223),n=i(5219),S=i(6328),M=i(4716),C=i(7398),e=i(6306),r=i(5879),o=i(3736),ae=i(4023),$=i(9862),t=i(553);let z=(()=>{class h{constructor(v){this.http=v,this.httpHeaders=new $.WM({"Content-Type":"application/json"}),this.apiUrl=t.N.controlAsistenciaApiUrl+"/api/materias"}saveMateria(v){return this.http.post(this.apiUrl,v,{headers:this.httpHeaders})}getBySiglaMateria(v){return this.http.get(this.apiUrl+"/"+v)}static#e=this.\u0275fac=function(P){return new(P||h)(r.LFG($.eN))};static#t=this.\u0275prov=r.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})();var X=i(7134),U=i(4119),j=i(707),k=i(7161),ee=i(2160),te=i(3714),ie=i(1865),b=i(4104),K=i(5609);const q=["selectCarrera"],O=["selectSemestre"];function Z(h,re){1&h&&r._UZ(0,"p-message",33)}function _(h,re){if(1&h&&r._UZ(0,"p-message",34),2&h){const v=r.oxw();r.MGl("text","La materia cargada: ",v.materiaNombre," ")}}function s(h,re){if(1&h){const v=r.EpF();r.TgZ(0,"div",35)(1,"p-button",36),r.NdJ("onClick",function(){r.CHM(v);const F=r.oxw();return r.KtG(F.searchMateria())}),r.qZA()()}if(2&h){const v=r.oxw();let P;r.xp6(1),r.Q6J("loading",v.loadingMateria)("disabled",null==(P=v.materia.get("sigla"))?null:P.invalid)}}function Q(h,re){1&h&&r._UZ(0,"p-message",40)}function m(h,re){if(1&h&&(r.TgZ(0,"div",11),r.YNc(1,Q,1,0,"p-message",37),r.TgZ(2,"label",38),r._uU(3,"Nombre: (*)"),r.qZA(),r._UZ(4,"input",39),r.qZA()),2&h){const v=r.oxw();let P;r.Q6J("formGroup",v.materia),r.xp6(1),r.Q6J("ngIf",(null==(P=v.materia.get("nombre"))?null:P.invalid)&&(null==(P=v.materia.get("nombre"))?null:P.touched))}}function p(h,re){1&h&&r._UZ(0,"p-message",41)}function l(h,re){1&h&&r._UZ(0,"p-message",42)}const Y=function(){return{margin:"10px"}};let A=(()=>{class h{constructor(v,P,F,c,B,I){this.messageService=v,this.carreraService=P,this.semestreService=F,this.materiaService=c,this.materiaCarreraSemestreService=B,this.translate=I,this.materiaNombre="",this.loading=!1,this.loadingMateria=!1,this.selectedSemestres=[],this.selectedCarreras=[],this.materiaCarreraSemestre=new a.cw({}),this.materia=new a.cw({}),this.exist=new a.NI(!0,[a.kI.required])}ngOnInit(){this.initData(),this.initForm()}initData(){this.loadCarreras().pipe((0,S.b)(()=>this.loadSemestres())).subscribe()}initForm(){this.materia=new a.cw({sigla:new a.NI("",[a.kI.required,a.kI.minLength(7)]),nombre:new a.NI("",[a.kI.required,a.kI.minLength(3)])}),this.materiaCarreraSemestre=new a.cw({idMateriaCarreraSemestre:new a.NI(0),idCarrera:new a.NI(0,[a.kI.required,a.kI.min(1)]),sigla:new a.NI,idSemestre:new a.NI(0,[a.kI.required,a.kI.min(1)]),activo:new a.NI(!0)})}onSubmit(){this.loading=!0,this.materiaCarreraSemestre.valid&&this.exist.value&&this.saveMateriaCarreraSemestre().pipe((0,M.x)(()=>this.loading=!1)).subscribe(),this.materia.valid&&(this.exist.value||(this.materiaCarreraSemestre.get("sigla")?.setValue(this.materia.get("sigla")?.value),this.saveMateria().pipe((0,S.b)(()=>this.saveMateriaCarreraSemestre()),(0,M.x)(()=>this.loading=!1)).subscribe()))}saveMateria(){return this.materiaService.saveMateria(this.materia.value).pipe((0,C.U)(v=>{this.messageService.add({severity:"success",summary:"Exito",detail:`Materia registrada: ${this.materiaNombre} `})}),(0,e.K)(v=>{throw this.messageService.add({severity:"error",summary:"Error",detail:`Materia con la sigla ${this.materia.get("sigla")?.value} no registrada`}),v}))}saveMateriaCarreraSemestre(){return this.materiaCarreraSemestreService.saveMateriaCarreraSemestre(this.materiaCarreraSemestre.value).pipe((0,C.U)(v=>{this.messageService.add({severity:"success",summary:"Exito",detail:`Materia agregada a semestre y carrera: ${this.materiaNombre} `}),this.clearForm()}),(0,e.K)(v=>{throw this.messageService.add({severity:"error",summary:"Error",detail:`Materia no agregada a semestre y carrera : ${this.materia.get("sigla")?.value} no registrada`}),v}))}searchMateria(){this.loadingMateria=!0,this.materiaService.getBySiglaMateria(this.materia.get("sigla")?.value).pipe((0,C.U)(v=>{this.materiaCarreraSemestre.get("sigla")?.setValue(v.data.sigla),this.materiaNombre=v.data.nombre,this.messageService.add({severity:"success",summary:"Exito",detail:`Materia encontrada: ${this.materiaNombre} `})}),(0,e.K)(v=>{throw this.messageService.add({severity:"error",summary:"Error",detail:`Materia con la sigla ${this.materia.get("sigla")?.value} no registrada`}),v}),(0,M.x)(()=>this.loadingMateria=!1)).subscribe()}loadCarreras(){return this.carreraService.getCarreras().pipe((0,C.U)(v=>{this.selectedCarreras=v.data}),(0,e.K)(v=>{throw this.messageService.add({severity:"error",summary:this.translate.instant("asistencia.message.errorTitle"),detail:this.translate.instant("asistencia.toList.asignatura.error.messageCarrera")}),v}))}loadSemestres(){return this.semestreService.getSemestres().pipe((0,C.U)(v=>{this.selectedSemestres=v.data}),(0,e.K)(v=>{throw this.messageService.add({severity:"error",summary:this.translate.instant("asistencia.message.errorTitle"),detail:this.translate.instant("asistencia.toList.asignatura.error.messageSemestre")}),v}))}eventSelectCarrera(v){this.materiaCarreraSemestre.get("idCarrera")?.setValue(v.value.id)}eventSelectSemestre(v){this.materiaCarreraSemestre.get("idSemestre")?.setValue(v.value.id)}clearForm(){this.elementSelectCarrera.writeValue(null),this.elementSelectSemestre.writeValue(null),this.materiaCarreraSemestre.reset(),this.materia.reset(),this.materiaNombre=""}static#e=this.\u0275fac=function(P){return new(P||h)(r.Y36(n.ez),r.Y36(o.f),r.Y36(ae.w),r.Y36(z),r.Y36(X.y),r.Y36(U.sK))};static#t=this.\u0275cmp=r.Xpm({type:h,selectors:[["ng-component"]],viewQuery:function(P,F){if(1&P&&(r.Gf(q,5),r.Gf(O,5)),2&P){let c;r.iGM(c=r.CRH())&&(F.elementSelectCarrera=c.first),r.iGM(c=r.CRH())&&(F.elementSelectSemestre=c.first)}},features:[r._Bn([n.ez])],decls:44,vars:19,consts:[[1,"grid"],[1,"col-12"],[1,"card"],["method","POST",3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4","flex","flex-wrap","gap-3"],[1,"flex","align-items-center"],["name","genero","inputId","existente",3,"value","formControl"],["for","existente",1,"ml-2"],["name","genero","inputId","nuevo",3,"value","formControl"],["for","nuevo",1,"ml-2"],[1,"field","col-12","md:col-4",3,"formGroup"],["severity","warn","text","Ingrese la sigla de la materia",4,"ngIf"],["severity","success",3,"text",4,"ngIf"],["htmlFor","sigla"],["pInputText","","id","sigla","formControlName","sigla","type","text","placeholder","MAT-112"],["class","flex justify-content-center","style","margin: 10px;",4,"ngIf"],["class","field col-12 md:col-4",3,"formGroup",4,"ngIf"],[1,"field","col-12","md:col-4"],["severity","warn","text","Seleccione el semestre",4,"ngIf"],["htmlFor","semestre"],["placeholder","Seleccione un semestre","optionLabel","nombre",3,"options","onChange"],["selectSemestre",""],["severity","warn","text","Seleccione la carrera",4,"ngIf"],["htmlFor","carrera"],["placeholder","Seleccione una carrera","optionLabel","nombre",3,"options","onChange"],["selectCarrera",""],[1,"flex","justify-content-center"],["for","m-3","htmlFor","activo"],["id","activo","formControlName","activo",1,"m-3"],["label","Enviar","type","submit",3,"loading","disabled"],["label","Resetear","severity","secondary",3,"ngStyle","onClick"],[3,"life"],["severity","warn","text","Ingrese la sigla de la materia"],["severity","success",3,"text"],[1,"flex","justify-content-center",2,"margin","10px"],["label","Buscar Materia","severity","info",3,"loading","disabled","onClick"],["severity","warn","text","Ingrese el nombre de la materia",4,"ngIf"],["htmlFor","nombreMateria"],["pInputText","","id","nombreMateria","formControlName","nombre","type","text","placeholder","Calculo I"],["severity","warn","text","Ingrese el nombre de la materia"],["severity","warn","text","Seleccione el semestre"],["severity","warn","text","Seleccione la carrera"]],template:function(P,F){if(1&P&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),r._uU(4,"Registrar Materia - Ingrese sus datos"),r.qZA(),r.TgZ(5,"form",3),r.NdJ("ngSubmit",function(){return F.onSubmit()}),r.TgZ(6,"div",4)(7,"div",5)(8,"div",6),r._UZ(9,"p-radioButton",7),r.TgZ(10,"label",8),r._uU(11,"Existente: (*)"),r.qZA()(),r.TgZ(12,"div",6),r._UZ(13,"p-radioButton",9),r.TgZ(14,"label",10),r._uU(15,"Nuevo: (*)"),r.qZA()()(),r.TgZ(16,"div",11),r.YNc(17,Z,1,0,"p-message",12),r.YNc(18,_,1,1,"p-message",13),r.TgZ(19,"label",14),r._uU(20,"Sigla: (*)"),r.qZA(),r._UZ(21,"input",15),r.YNc(22,s,2,2,"div",16),r.qZA(),r.YNc(23,m,5,2,"div",17),r.TgZ(24,"div",18),r.YNc(25,p,1,0,"p-message",19),r.TgZ(26,"label",20),r._uU(27,"Semestre: (*)"),r.qZA(),r.TgZ(28,"p-dropdown",21,22),r.NdJ("onChange",function(B){return F.eventSelectSemestre(B)}),r.qZA()(),r.TgZ(30,"div",18),r.YNc(31,l,1,0,"p-message",23),r.TgZ(32,"label",24),r._uU(33,"Carrera: (*)"),r.qZA(),r.TgZ(34,"p-dropdown",25,26),r.NdJ("onChange",function(B){return F.eventSelectCarrera(B)}),r.qZA()(),r.TgZ(36,"div",18)(37,"div",27)(38,"label",28),r._uU(39,"Activo: (*)"),r.qZA(),r._UZ(40,"p-inputSwitch",29),r.qZA()()(),r._UZ(41,"p-button",30),r.TgZ(42,"p-button",31),r.NdJ("onClick",function(){return F.clearForm()}),r.qZA()()()()(),r._UZ(43,"p-toast",32)),2&P){let c,B,I;r.xp6(5),r.Q6J("formGroup",F.materiaCarreraSemestre),r.xp6(4),r.Q6J("value",!0)("formControl",F.exist),r.xp6(4),r.Q6J("value",!1)("formControl",F.exist),r.xp6(3),r.Q6J("formGroup",F.materia),r.xp6(1),r.Q6J("ngIf",(null==(c=F.materia.get("sigla"))?null:c.invalid)&&(null==(c=F.materia.get("sigla"))?null:c.touched)),r.xp6(1),r.Q6J("ngIf",F.materiaNombre),r.xp6(4),r.Q6J("ngIf",F.exist.value),r.xp6(1),r.Q6J("ngIf",!F.exist.value),r.xp6(2),r.Q6J("ngIf",(null==(B=F.materiaCarreraSemestre.get("idSemestre"))?null:B.invalid)&&(null==(B=F.materiaCarreraSemestre.get("idSemestre"))?null:B.touched)),r.xp6(3),r.Q6J("options",F.selectedSemestres),r.xp6(3),r.Q6J("ngIf",(null==(I=F.materiaCarreraSemestre.get("idCarrera"))?null:I.invalid)&&(null==(I=F.materiaCarreraSemestre.get("idCarrera"))?null:I.touched)),r.xp6(3),r.Q6J("options",F.selectedCarreras),r.xp6(7),r.Q6J("loading",F.loading)("disabled",F.exist.value?F.materiaCarreraSemestre.invalid||""===F.materiaNombre:F.materia.invalid||F.materiaCarreraSemestre.invalid),r.xp6(1),r.Q6J("ngStyle",r.DdM(18,Y)),r.xp6(1),r.Q6J("life",1e4)}},dependencies:[R.O5,R.PC,j.zx,k.q,ee.Lt,te.o,ie.EU,a._Y,a.Fj,a.JJ,a.JL,a.oH,a.sg,a.u,b.FN,K.Ql],encapsulation:2})}return h})(),E=(()=>{class h{static#e=this.\u0275fac=function(P){return new(P||h)};static#t=this.\u0275mod=r.oAB({type:h});static#i=this.\u0275inj=r.cJS({imports:[J.Bz.forChild([{path:"",component:A}]),J.Bz]})}return h})();var D=i(2169);let G=(()=>{class h{static#e=this.\u0275fac=function(P){return new(P||h)};static#t=this.\u0275mod=r.oAB({type:h});static#i=this.\u0275inj=r.cJS({imports:[R.ez,E,j.hJ,D.o,k.O,ee.kW,te.j,ie.cc,a.UX,b.EV,K.Iu]})}return h})()},3888:(oe,L,i)=>{i.r(L),i.d(L,{RegisterSupervisorModule:()=>I});var R=i(6814),J=i(8075),a=i(5861),n=i(6223),S=i(5219),M=i(9397),C=i(6328),e=i(4716),r=i(6306),o=i(8504),ae=i(5592),$=i(9862),t=i(5879),z=i(5927),X=i(9008),U=i(6129),j=i(7906),k=i(4104),ee=i(354),te=i(3714),ie=i(1865),b=i(7853),K=i(417),q=i(707),O=i(7161),Z=i(2160),_=i(5609);const s=["file"];function Q(g,d){1&g&&t._UZ(0,"p-message",52)}function m(g,d){if(1&g&&(t.TgZ(0,"ul")(1,"li"),t._uU(2),t.qZA()()),2&g){const f=t.oxw();t.xp6(2),t.AsE("",null==f.fileUpload?null:f.fileUpload.name," - ",null==f.fileUpload?null:f.fileUpload.size," bytes")}}function p(g,d){1&g&&t._UZ(0,"p-message",53)}function l(g,d){1&g&&t._UZ(0,"p-message",54)}function Y(g,d){1&g&&t._UZ(0,"p-message",55)}function A(g,d){1&g&&t._UZ(0,"p-message",56)}function E(g,d){1&g&&t._UZ(0,"p-message",57)}function D(g,d){1&g&&t._UZ(0,"p-message",58)}function G(g,d){1&g&&t._UZ(0,"p-message",59)}function h(g,d){1&g&&t._UZ(0,"p-message",60)}function re(g,d){1&g&&t._UZ(0,"p-message",61)}function v(g,d){1&g&&t._UZ(0,"p-message",62)}const P=function(){return{margin:"10px"}},F=/^[a-zA-Z]+\.[a-zA-Z]+@usalesiana\.edu\.bo$/;let c=(()=>{class g{constructor(f,x,T,u,H){this.messageService=f,this.imageComprees=x,this.rolService=T,this.supervisorService=u,this.personaService=H,this.supervisor=new n.cw({}),this.progress=0,this.loading=!1,this.loadingSupervisor=!1,this.loadingImage=!1,this.confirmPassword=new n.NI("",[n.kI.required]),this.passwordEquals=!0,this.roles=[]}ngOnInit(){this.initRoles(),this.initForm()}initRoles(){this.rolService.getRoles().pipe((0,M.b)(f=>{this.roles=f.data})).subscribe()}initForm(){this.supervisor=new n.cw({ci:new n.NI(0,[n.kI.required,n.kI.min(99999),n.kI.max(999999999)]),nombre:new n.NI("",[n.kI.required,n.kI.minLength(3),n.kI.maxLength(50)]),apellido:new n.NI("",[n.kI.required,n.kI.minLength(3),n.kI.maxLength(50)]),fotografia:new n.NI(""),email:new n.NI("",[n.kI.required,n.kI.email]),genero:new n.NI("",[n.kI.required]),correoInstitucional:new n.NI("",[n.kI.required,n.kI.email,n.kI.pattern(F)]),contrasenia:new n.NI("",[n.kI.required,n.kI.minLength(7),n.kI.maxLength(20)]),activo:new n.NI(!0,[n.kI.required]),rol:new n.NI(0,[n.kI.required,n.kI.min(1)]),reporteEmail:new n.NI(!0,[n.kI.required]),reporteInstitucional:new n.NI(!0,[n.kI.required])})}onSubmit(){this.loading=!0,this.saveSupervisor().pipe((0,C.b)(()=>this.saveImageSupervisor()),(0,e.x)(()=>{this.loadingSupervisor&&this.loadingImage&&(this.messageService.add({severity:"success",summary:"Exito",detail:"Sus datos se guardaron correctamente."}),this.clearForm()),this.loading=!1})).subscribe()}clearForm(){this.supervisor.reset(),this.confirmPassword.reset(),this.fileUpload=void 0,this.passwordEquals=!0,this.progress=0,this.fileComponent.clear()}saveSupervisor(){return this.supervisorService.saveSupervisor(this.supervisor.value).pipe((0,M.b)(f=>{this.loadingSupervisor=f.save,this.messageService.add({severity:"success",summary:"Exito",detail:"Supervisor guardado correctamente."})}),(0,r.K)(f=>(this.messageService.add({severity:"error",summary:"Error",detail:"No se pudo guardar el supervisor."}),(0,o._)(()=>f))))}saveImageSupervisor(){let f=new ae.y;return void 0!==this.fileUpload&&(f=this.personaService.saveImagePersona(this.fileUpload,this.supervisor.get("ci")?.value).pipe((0,M.b)(x=>(x.type===$.dt.UploadProgress&&(this.progress=Math.round(x.loaded/(x.total??x.loaded)*100),console.log(`Archivo subido: ${this.progress}%`),this.loadingImage=!0,this.messageService.add({severity:"info",summary:"Cargando",detail:`Archivo subido: ${this.progress}%`})),x)),(0,r.K)(x=>(this.messageService.add({severity:"error",summary:"Error",detail:"No se pudo guardar la imagen."}),this.loadingImage=!1,(0,o._)(()=>x))))),f}onSelect(f){var x=this;return(0,a.Z)(function*(){0!==f.currentFiles.length&&(yield x.imageComprees.compressFile(f.currentFiles[0],f.currentFiles[0].name).then(T=>{void 0!==T?(x.fileUpload=T,x.messageService.add({severity:"info",summary:"Imagen Cargado",detail:"Se comprimio la imagen."})):x.messageService.add({severity:"error",summary:"Error",detail:"No se pudo comprimir la imagen."})}))})()}eventSelectRol(f){this.supervisor.get("rol")?.setValue(f.value.id)}comparePassword(){this.passwordEquals=this.supervisor.get("contrasenia")?.value!==this.confirmPassword.value}onClear(f){this.fileUpload=void 0}static#e=this.\u0275fac=function(x){return new(x||g)(t.Y36(S.ez),t.Y36(z.s),t.Y36(X.m),t.Y36(U.Z),t.Y36(j.J))};static#t=this.\u0275cmp=t.Xpm({type:g,selectors:[["ng-component"]],viewQuery:function(x,T){if(1&x&&t.Gf(s,5),2&x){let u;t.iGM(u=t.CRH())&&(T.fileComponent=u.first)}},features:[t._Bn([S.ez])],decls:81,vars:24,consts:[[1,"grid"],[1,"col-12"],[1,"card"],[1,"field","col-12","md:col-8"],["severity","warn","text","Por favor, cargue su imagen de perfil.",4,"ngIf"],["name","imageDocente","accept","image/jpeg","invalidFileLimitMessageSummary","L\xedmite de archivo inv\xe1lido","invalidFileTypeMessageSummary","{0}: Tipo de archivo no v\xe1lido,","invalidFileLimitMessageDetail","El l\xedmite es {0} como m\xe1ximo.","invalidFileTypeMessageDetail","Tipos de archivos permitidos: {0}.","invalidFileSizeMessageSummary","{0}: Tama\xf1o de archivo no v\xe1lido,","invalidFileSizeMessageDetail","El tama\xf1o m\xe1ximo de carga es {0}.","invalidFileSizeMensajeResumen","{0}: Tama\xf1o de archivo no v\xe1lido,",3,"maxFileSize","showUploadButton","onSelect","onClear"],["file",""],["pTemplate","content"],["method","POST",3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["severity","warn","text","Por favor, ingrese su C.I.",4,"ngIf"],["htmlFor","ci"],["formControlName","ci","inputId","ci","mode","decimal","placeholder","12345678",3,"min","max","useGrouping"],["severity","warn","text","Por favor, ingrese su nombre",4,"ngIf"],["htmlFor","nombre"],["pInputText","","id","nombre","formControlName","nombre","type","text","placeholder","Jose Luis"],["severity","warn","text","Por favor, ingrese su Apellido",4,"ngIf"],["htmlFor","apellido"],["pInputText","","id","apellido","formControlName","apellido","type","text","placeholder","Quispe Mamani"],["severity","warn","text","Por favor, ingrese su Email Personal",4,"ngIf"],["htmlFor","email"],["pInputText","","id","email","formControlName","email","type","text","placeholder","text@text.com"],[1,"field","col-12","md:col-4","flex","flex-wrap","gap-3"],["severity","warn","text","Por favor, ingrese su Genero",4,"ngIf"],[1,"flex","align-items-center"],["name","genero","value","M","inputId","masculino","formControlName","genero"],["for","masculino",1,"ml-2"],["name","genero","value","F","inputId","femenino","formControlName","genero"],["for","femenino",1,"ml-2"],["severity","warn","text","Por favor, ingrese su Correo Institucional",4,"ngIf"],["htmlFor","correoInstitucional"],["pInputText","","id","correoInstitucional","formControlName","correoInstitucional","type","text","placeholder","text.text@usalesiana.edu.bo"],["severity","warn","text","Para asegurar la seguridad de su contrase\xf1a, debe cumplir con los siguientes requisitos:\n                Al menos 8 caracteres de longitud.\n                Incluir al menos un n\xfamero.\n                Incluir al menos una letra may\xfascula.\n                Incluir al menos una letra min\xfascula.\n                Debe contener al menos un s\xedmbolo especial.",4,"ngIf"],["htmlFor","password"],["id","password","placeholder","MMmm@1234\\*?!","formControlName","contrasenia","required",""],["severity","warn","text","Por favor, introduzca la confirmaci\xf3n de la contrase\xf1a.",4,"ngIf"],["severity","warn","text","Las contrase\xf1as no coinciden.",4,"ngIf"],["placeholder","Confirme su contrase\xf1a","id","password","placeholder","Password","required","",3,"formControl","keyup"],["severity","warn","text","Por favor, ingrese su rol",4,"ngIf"],["for","m-3 float-label "],["placeholder","Ingrese sus Roles","optionLabel","nombre","inputId","float-label",3,"options","onChange"],[1,"flex","justify-content-center"],["for","m-3","htmlFor","activo"],["id","activo","formControlName","activo",1,"m-3"],["for","m-3","htmlFor","reporteEmail"],["id","reporteEmail","formControlName","reporteEmail",1,"m-3"],["for","m-3","htmlFor","reporteInstitucional"],["id","reporteInstitucional","formControlName","reporteInstitucional",1,"m-3"],["label","Enviar","type","submit",3,"loading","disabled"],["label","Resetear","severity","secondary",3,"ngStyle","onClick"],[3,"life"],["severity","warn","text","Por favor, cargue su imagen de perfil."],["severity","warn","text","Por favor, ingrese su C.I."],["severity","warn","text","Por favor, ingrese su nombre"],["severity","warn","text","Por favor, ingrese su Apellido"],["severity","warn","text","Por favor, ingrese su Email Personal"],["severity","warn","text","Por favor, ingrese su Genero"],["severity","warn","text","Por favor, ingrese su Correo Institucional"],["severity","warn","text","Para asegurar la seguridad de su contrase\xf1a, debe cumplir con los siguientes requisitos:\n                Al menos 8 caracteres de longitud.\n                Incluir al menos un n\xfamero.\n                Incluir al menos una letra may\xfascula.\n                Incluir al menos una letra min\xfascula.\n                Debe contener al menos un s\xedmbolo especial."],["severity","warn","text","Por favor, introduzca la confirmaci\xf3n de la contrase\xf1a."],["severity","warn","text","Las contrase\xf1as no coinciden."],["severity","warn","text","Por favor, ingrese su rol"]],template:function(x,T){if(1&x&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),t._uU(4,"Supervisor - Ingrese sus datos"),t.qZA(),t.TgZ(5,"div",3),t.YNc(6,Q,1,0,"p-message",4),t.TgZ(7,"p-fileUpload",5,6),t.NdJ("onSelect",function(H){return T.onSelect(H)})("onClear",function(H){return T.onClear(H)}),t.YNc(9,m,3,2,"ng-template",7),t.qZA()(),t.TgZ(10,"form",8),t.NdJ("ngSubmit",function(){return T.onSubmit()}),t.TgZ(11,"div",9)(12,"div",10),t.YNc(13,p,1,0,"p-message",11),t.TgZ(14,"label",12),t._uU(15,"C.I.: (*)"),t.qZA(),t._UZ(16,"p-inputNumber",13),t.qZA(),t.TgZ(17,"div",10),t.YNc(18,l,1,0,"p-message",14),t.TgZ(19,"label",15),t._uU(20,"Nombre: (*)"),t.qZA(),t._UZ(21,"input",16),t.qZA(),t.TgZ(22,"div",10),t.YNc(23,Y,1,0,"p-message",17),t.TgZ(24,"label",18),t._uU(25,"Apellido: (*)"),t.qZA(),t._UZ(26,"input",19),t.qZA(),t.TgZ(27,"div",10),t.YNc(28,A,1,0,"p-message",20),t.TgZ(29,"label",21),t._uU(30,"Email Personal: (*)"),t.qZA(),t._UZ(31,"input",22),t.qZA(),t.TgZ(32,"div",23),t.YNc(33,E,1,0,"p-message",24),t.TgZ(34,"div",25),t._UZ(35,"p-radioButton",26),t.TgZ(36,"label",27),t._uU(37,"Masculino: (*)"),t.qZA()(),t.TgZ(38,"div",25),t._UZ(39,"p-radioButton",28),t.TgZ(40,"label",29),t._uU(41,"Femenino: (*)"),t.qZA()()(),t.TgZ(42,"div",10),t.YNc(43,D,1,0,"p-message",30),t.TgZ(44,"label",31),t._uU(45,"Correo Institucional: (*)"),t.qZA(),t._UZ(46,"input",32),t.qZA(),t.TgZ(47,"div",10),t.YNc(48,G,1,0,"p-message",33),t.TgZ(49,"label",34),t._uU(50,"Contrase\xf1a: (*)"),t.qZA(),t._UZ(51,"p-password",35),t.qZA(),t.TgZ(52,"div",10),t.YNc(53,h,1,0,"p-message",36),t.YNc(54,re,1,0,"p-message",37),t.TgZ(55,"label",34),t._uU(56,"Confirmar Contrase\xf1a: (*)"),t.qZA(),t.TgZ(57,"p-password",38),t.NdJ("keyup",function(){return T.comparePassword()}),t.qZA()(),t.TgZ(58,"div",10),t.YNc(59,v,1,0,"p-message",39),t.TgZ(60,"label",40),t._uU(61,"Ingrese su Rol: (*)"),t.qZA(),t.TgZ(62,"p-dropdown",41),t.NdJ("onChange",function(H){return T.eventSelectRol(H)}),t.qZA()(),t.TgZ(63,"div",10)(64,"div",42)(65,"label",43),t._uU(66,"Activo: (*)"),t.qZA(),t._UZ(67,"p-inputSwitch",44),t.qZA()(),t.TgZ(68,"div",10)(69,"div",42)(70,"label",45),t._uU(71,"Reporte Email: (*)"),t.qZA(),t._UZ(72,"p-inputSwitch",46),t.qZA()(),t.TgZ(73,"div",10)(74,"div",42)(75,"label",47),t._uU(76,"Reporte Institucional: (*)"),t.qZA(),t._UZ(77,"p-inputSwitch",48),t.qZA()()(),t._UZ(78,"p-button",49),t.TgZ(79,"p-button",50),t.NdJ("onClick",function(){return T.clearForm()}),t.qZA()()()()(),t._UZ(80,"p-toast",51)),2&x){let u,H,N,w,y,V,W,ne;t.xp6(6),t.Q6J("ngIf",null==T.fileUpload),t.xp6(1),t.Q6J("maxFileSize",1e6)("showUploadButton",!1),t.xp6(3),t.Q6J("formGroup",T.supervisor),t.xp6(3),t.Q6J("ngIf",(null==(u=T.supervisor.get("ci"))?null:u.invalid)&&(null==(u=T.supervisor.get("ci"))?null:u.touched)),t.xp6(3),t.Q6J("min",99999)("max",999999999)("useGrouping",!1),t.xp6(2),t.Q6J("ngIf",(null==(H=T.supervisor.get("nombre"))?null:H.invalid)&&(null==(H=T.supervisor.get("nombre"))?null:H.touched)),t.xp6(5),t.Q6J("ngIf",(null==(N=T.supervisor.get("apellido"))?null:N.invalid)&&(null==(N=T.supervisor.get("apellido"))?null:N.touched)),t.xp6(5),t.Q6J("ngIf",(null==(w=T.supervisor.get("email"))?null:w.invalid)&&(null==(w=T.supervisor.get("email"))?null:w.touched)),t.xp6(5),t.Q6J("ngIf",null==(y=T.supervisor.get("genero"))?null:y.invalid),t.xp6(10),t.Q6J("ngIf",(null==(V=T.supervisor.get("correoInstitucional"))?null:V.invalid)&&(null==(V=T.supervisor.get("correoInstitucional"))?null:V.touched)),t.xp6(5),t.Q6J("ngIf",(null==(W=T.supervisor.get("contrasenia"))?null:W.invalid)&&(null==(W=T.supervisor.get("contrasenia"))?null:W.touched)),t.xp6(5),t.Q6J("ngIf",T.confirmPassword.invalid&&T.confirmPassword.touched),t.xp6(1),t.Q6J("ngIf",T.passwordEquals),t.xp6(3),t.Q6J("formControl",T.confirmPassword),t.xp6(2),t.Q6J("ngIf",null==(ne=T.supervisor.get("rol"))?null:ne.invalid),t.xp6(3),t.Q6J("options",T.roles),t.xp6(16),t.Q6J("loading",T.loading)("disabled",!(T.supervisor.valid&&!T.passwordEquals&&void 0!==T.fileUpload)),t.xp6(1),t.Q6J("ngStyle",t.DdM(23,P)),t.xp6(1),t.Q6J("life",1e4)}},dependencies:[R.O5,R.PC,k.FN,S.jx,ee.Rn,te.o,ie.EU,n._Y,n.Fj,n.JJ,n.JL,n.Q7,n.oH,n.sg,n.u,b.ro,K.p,q.zx,O.q,Z.Lt,_.Ql],encapsulation:2})}return g})(),B=(()=>{class g{static#e=this.\u0275fac=function(x){return new(x||g)};static#t=this.\u0275mod=t.oAB({type:g});static#i=this.\u0275inj=t.cJS({imports:[J.Bz.forChild([{path:"",component:c}]),J.Bz]})}return g})(),I=(()=>{class g{static#e=this.\u0275fac=function(x){return new(x||g)};static#t=this.\u0275mod=t.oAB({type:g});static#i=this.\u0275inj=t.cJS({imports:[R.ez,B,k.EV,ee.L$,te.j,ie.cc,n.UX,b.gz,K.O,q.hJ,O.O,Z.kW,_.Iu]})}return g})()},8933:(oe,L,i)=>{i.r(L),i.d(L,{ToRegisterModule:()=>t});var R=i(6814),J=i(8075),a=i(5879);let n=(()=>{class z{static#e=this.\u0275fac=function(j){return new(j||z)};static#t=this.\u0275mod=a.oAB({type:z});static#i=this.\u0275inj=a.cJS({imports:[J.Bz.forChild([{path:"asistencia",loadChildren:()=>Promise.resolve().then(i.bind(i,3605)).then(U=>U.RegisterAsistenciaModule)},{path:"asignar_materia",loadChildren:()=>Promise.resolve().then(i.bind(i,1746)).then(U=>U.RegisterAssignMateriaModule)},{path:"docente",loadChildren:()=>Promise.resolve().then(i.bind(i,7772)).then(U=>U.RegisterDocenteModule)},{path:"licencia",loadChildren:()=>Promise.resolve().then(i.bind(i,6041)).then(U=>U.RegisterLicenciaModule)},{path:"supervisor",loadChildren:()=>Promise.resolve().then(i.bind(i,3888)).then(U=>U.RegisterSupervisorModule)},{path:"horario",loadChildren:()=>Promise.resolve().then(i.bind(i,9019)).then(U=>U.RegisterHorarioModule)},{path:"materia",loadChildren:()=>Promise.resolve().then(i.bind(i,5220)).then(U=>U.RegisterMateriaModule)},{path:"aula",loadChildren:()=>Promise.resolve().then(i.bind(i,4934)).then(U=>U.RegisterAulaModule)},{path:"**",redirectTo:"/extraviado"}]),J.Bz]})}return z})();var S=i(3605),M=i(1746),C=i(4934),e=i(7772),r=i(9019),o=i(6041),ae=i(5220),$=i(3888);let t=(()=>{class z{static#e=this.\u0275fac=function(j){return new(j||z)};static#t=this.\u0275mod=a.oAB({type:z});static#i=this.\u0275inj=a.cJS({imports:[R.ez,n,S.RegisterAsistenciaModule,M.RegisterAssignMateriaModule,C.RegisterAulaModule,e.RegisterDocenteModule,r.RegisterHorarioModule,o.RegisterLicenciaModule,ae.RegisterMateriaModule,$.RegisterSupervisorModule]})}return z})()},4316:(oe,L,i)=>{i.d(L,{W:()=>n});var R=i(553),J=i(5879),a=i(9862);let n=(()=>{class S{constructor(C){this.http=C,this.apiUrl=R.N.controlAsistenciaApiUrl+"/api/horarios"}getHorarios(){return this.http.get(this.apiUrl)}saveHorario(C){return this.http.post(this.apiUrl,C)}static#e=this.\u0275fac=function(e){return new(e||S)(J.LFG(a.eN))};static#t=this.\u0275prov=J.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})()},9008:(oe,L,i)=>{i.d(L,{m:()=>n});var R=i(553),J=i(5879),a=i(9862);let n=(()=>{class S{constructor(C){this.http=C,this.apiUrl=R.N.controlAsistenciaApiUrl+"/api/roles"}getRoles(){return this.http.get(this.apiUrl)}static#e=this.\u0275fac=function(e){return new(e||S)(J.LFG(a.eN))};static#t=this.\u0275prov=J.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})()},2121:(oe,L,i)=>{i.d(L,{U:()=>J});var R=i(5879);let J=(()=>{class a{constructor(){}transformTime(S){return S?new Date(S).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):""}materiaCarreraSemestreToOptionsMateria(S){let M=[];return S.forEach(C=>{M.push({code:C.idMateriaCarreraSemestre,name:`${C.materia}-${C.carrera}-${C.semestre}`})}),M}aulaToOptionsAula(S){let M=[];return S.forEach(C=>{M.push({code:C.id,name:`${C.paralelo}-${C.aula}-${C.piso}-${C.bloque}`})}),M}horarioToOptionsHorario(S){let M=[];return S.forEach(C=>{M.push({code:C.idHorario,name:C.diaSemana+"-"+this.transformTime(C.horaInicio)+"-"+this.transformTime(C.horaFin)+"-"+C.turno})}),M}static#e=this.\u0275fac=function(M){return new(M||a)};static#t=this.\u0275prov=R.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()}}]);